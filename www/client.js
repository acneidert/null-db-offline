(()=>{var __webpack_modules__={754:((__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{"Uw":()=>WebPlugin,"dV":()=>Capacitor,"fo":()=>registerPlugin});const createCapacitorPlatforms=win=>{const defaultPlatformMap=new Map;defaultPlatformMap.set("web",{name:"web"});const capPlatforms=win.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:defaultPlatformMap};const addPlatform1=(name,platform)=>{capPlatforms.platforms.set(name,platform)};const setPlatform1=name=>{if(capPlatforms.platforms.has(name)){capPlatforms.currentPlatform=capPlatforms.platforms.get(name)}};capPlatforms.addPlatform=addPlatform1;capPlatforms.setPlatform=setPlatform1;return capPlatforms};const initPlatforms=win=>win.CapacitorPlatforms=createCapacitorPlatforms(win);const CapacitorPlatforms=initPlatforms(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof __webpack_require__.g!=="undefined"?__webpack_require__.g:{});const addPlatform=CapacitorPlatforms.addPlatform;const setPlatform=CapacitorPlatforms.setPlatform;const legacyRegisterWebPlugin=(cap,webPlugin)=>{var _a;const config=webPlugin.config;const Plugins1=cap.Plugins;if(!config||!config.name){throw new Error(`Capacitor WebPlugin is using the deprecated "registerWebPlugin()" function, but without the config. Please use "registerPlugin()" instead to register this web plugin."`)}console.warn(`Capacitor plugin "${config.name}" is using the deprecated "registerWebPlugin()" function`);if(!Plugins1[config.name]||((_a=config===null||config===void 0?void 0:config.platforms)===null||_a===void 0?void 0:_a.includes(cap.getPlatform()))){Plugins1[config.name]=webPlugin}};var ExceptionCode;(function(ExceptionCode1){ExceptionCode1["Unimplemented"]="UNIMPLEMENTED";ExceptionCode1["Unavailable"]="UNAVAILABLE"})(ExceptionCode||(ExceptionCode={}));class CapacitorException extends Error{constructor(message,code,data){super(message);this.message=message;this.code=code;this.data=data}}const getPlatformId=win=>{var _a,_b;if(win===null||win===void 0?void 0:win.androidBridge){return"android"}else if((_b=(_a=win===null||win===void 0?void 0:win.webkit)===null||_a===void 0?void 0:_a.messageHandlers)===null||_b===void 0?void 0:_b.bridge){return"ios"}else{return"web"}};const createCapacitor=win=>{var _a1,_b1,_c,_d,_e;const capCustomPlatform=win.CapacitorCustomPlatform||null;const cap=win.Capacitor||{};const Plugins2=cap.Plugins=cap.Plugins||{};const capPlatforms=win.CapacitorPlatforms;const defaultGetPlatform=()=>{return capCustomPlatform!==null?capCustomPlatform.name:getPlatformId(win)};const getPlatform=((_a1=capPlatforms===null||capPlatforms===void 0?void 0:capPlatforms.currentPlatform)===null||_a1===void 0?void 0:_a1.getPlatform)||defaultGetPlatform;const defaultIsNativePlatform=()=>getPlatform()!=="web";const isNativePlatform=((_b1=capPlatforms===null||capPlatforms===void 0?void 0:capPlatforms.currentPlatform)===null||_b1===void 0?void 0:_b1.isNativePlatform)||defaultIsNativePlatform;const defaultIsPluginAvailable=pluginName=>{const plugin=registeredPlugins.get(pluginName);if(plugin===null||plugin===void 0?void 0:plugin.platforms.has(getPlatform())){return true}if(getPluginHeader(pluginName)){return true}return false};const isPluginAvailable=((_c=capPlatforms===null||capPlatforms===void 0?void 0:capPlatforms.currentPlatform)===null||_c===void 0?void 0:_c.isPluginAvailable)||defaultIsPluginAvailable;const defaultGetPluginHeader=pluginName=>{var _a;return(_a=cap.PluginHeaders)===null||_a===void 0?void 0:_a.find(h=>h.name===pluginName)};const getPluginHeader=((_d=capPlatforms===null||capPlatforms===void 0?void 0:capPlatforms.currentPlatform)===null||_d===void 0?void 0:_d.getPluginHeader)||defaultGetPluginHeader;const handleError=err=>win.console.error(err);const pluginMethodNoop=(_target,prop,pluginName)=>{return Promise.reject(`${pluginName} does not have an implementation of "${prop}".`)};const registeredPlugins=new Map;const defaultRegisterPlugin=(pluginName,jsImplementations={})=>{const registeredPlugin=registeredPlugins.get(pluginName);if(registeredPlugin){console.warn(`Capacitor plugin "${pluginName}" already registered. Cannot register plugins twice.`);return registeredPlugin.proxy}const platform=getPlatform();const pluginHeader=getPluginHeader(pluginName);let jsImplementation;const loadPluginImplementation=async()=>{if(!jsImplementation&&platform in jsImplementations){jsImplementation=typeof jsImplementations[platform]==="function"?jsImplementation=await jsImplementations[platform]():jsImplementation=jsImplementations[platform]}else if(capCustomPlatform!==null&&!jsImplementation&&"web"in jsImplementations){jsImplementation=typeof jsImplementations["web"]==="function"?jsImplementation=await jsImplementations["web"]():jsImplementation=jsImplementations["web"]}return jsImplementation};const createPluginMethod=(impl,prop)=>{var _a,_b;if(pluginHeader){const methodHeader=pluginHeader===null||pluginHeader===void 0?void 0:pluginHeader.methods.find(m=>prop===m.name);if(methodHeader){if(methodHeader.rtype==="promise"){return options=>cap.nativePromise(pluginName,prop.toString(),options)}else{return(options,callback)=>cap.nativeCallback(pluginName,prop.toString(),options,callback)}}else if(impl){return(_a=impl[prop])===null||_a===void 0?void 0:_a.bind(impl)}}else if(impl){return(_b=impl[prop])===null||_b===void 0?void 0:_b.bind(impl)}else{throw new CapacitorException(`"${pluginName}" plugin is not implemented on ${platform}`,ExceptionCode.Unimplemented)}};const createPluginMethodWrapper=prop=>{let remove;const wrapper=(...args)=>{const p1=loadPluginImplementation().then(impl=>{const fn=createPluginMethod(impl,prop);if(fn){const p=fn(...args);remove=p===null||p===void 0?void 0:p.remove;return p}else{throw new CapacitorException(`"${pluginName}.${prop}()" is not implemented on ${platform}`,ExceptionCode.Unimplemented)}});if(prop==="addListener"){p1.remove=async()=>remove()}return p1};wrapper.toString=()=>`${prop.toString()}() { [capacitor code] }`;Object.defineProperty(wrapper,"name",{value:prop,writable:false,configurable:false});return wrapper};const addListener=createPluginMethodWrapper("addListener");const removeListener=createPluginMethodWrapper("removeListener");const addListenerNative=(eventName,callback)=>{const call=addListener({eventName},callback);const remove=async()=>{const callbackId=await call;removeListener({eventName,callbackId},callback)};const p=new Promise(resolve=>call.then(()=>resolve({remove})));p.remove=async()=>{console.warn(`Using addListener() without 'await' is deprecated.`);await remove()};return p};const proxy=new Proxy({},{get(_,prop){switch(prop){case"$$typeof":return undefined;case"toJSON":return()=>({});case"addListener":return pluginHeader?addListenerNative:addListener;case"removeListener":return removeListener;default:return createPluginMethodWrapper(prop)}}});Plugins2[pluginName]=proxy;registeredPlugins.set(pluginName,{name:pluginName,proxy,platforms:new Set([...Object.keys(jsImplementations),...pluginHeader?[platform]:[],])});return proxy};const registerPlugin1=((_e=capPlatforms===null||capPlatforms===void 0?void 0:capPlatforms.currentPlatform)===null||_e===void 0?void 0:_e.registerPlugin)||defaultRegisterPlugin;if(!cap.convertFileSrc){cap.convertFileSrc=filePath=>filePath}cap.getPlatform=getPlatform;cap.handleError=handleError;cap.isNativePlatform=isNativePlatform;cap.isPluginAvailable=isPluginAvailable;cap.pluginMethodNoop=pluginMethodNoop;cap.registerPlugin=registerPlugin1;cap.Exception=CapacitorException;cap.DEBUG=!!cap.DEBUG;cap.isLoggingEnabled=!!cap.isLoggingEnabled;cap.platform=cap.getPlatform();cap.isNative=cap.isNativePlatform();return cap};const initCapacitorGlobal=win=>win.Capacitor=createCapacitor(win);const Capacitor=initCapacitorGlobal(typeof globalThis!=="undefined"?globalThis:typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof __webpack_require__.g!=="undefined"?__webpack_require__.g:{});const registerPlugin=Capacitor.registerPlugin;const Plugins=Capacitor.Plugins;const registerWebPlugin=plugin=>legacyRegisterWebPlugin(Capacitor,plugin);class WebPlugin{addListener(eventName,listenerFunc){const listeners=this.listeners[eventName];if(!listeners){this.listeners[eventName]=[]}this.listeners[eventName].push(listenerFunc);const windowListener=this.windowListeners[eventName];if(windowListener&&!windowListener.registered){this.addWindowListener(windowListener)}const remove=async()=>this.removeListener(eventName,listenerFunc);const p=Promise.resolve({remove});Object.defineProperty(p,"remove",{value:async()=>{console.warn(`Using addListener() without 'await' is deprecated.`);await remove()}});return p}async removeAllListeners(){this.listeners={};for(const listener in this.windowListeners){this.removeWindowListener(this.windowListeners[listener])}this.windowListeners={}}notifyListeners(eventName,data){const listeners=this.listeners[eventName];if(listeners){listeners.forEach(listener=>listener(data))}}hasListeners(eventName){return!!this.listeners[eventName].length}registerWindowListener(windowEventName,pluginEventName){this.windowListeners[pluginEventName]={registered:false,windowEventName,pluginEventName,handler:event=>{this.notifyListeners(pluginEventName,event)}}}unimplemented(msg="not implemented"){return new Capacitor.Exception(msg,ExceptionCode.Unimplemented)}unavailable(msg="not available"){return new Capacitor.Exception(msg,ExceptionCode.Unavailable)}async removeListener(eventName,listenerFunc){const listeners=this.listeners[eventName];if(!listeners){return}const index=listeners.indexOf(listenerFunc);this.listeners[eventName].splice(index,1);if(!this.listeners[eventName].length){this.removeWindowListener(this.windowListeners[eventName])}}addWindowListener(handle){window.addEventListener(handle.windowEventName,handle.handler);handle.registered=true}removeWindowListener(handle){if(!handle){return}window.removeEventListener(handle.windowEventName,handle.handler);handle.registered=false}constructor(config){this.listeners={};this.windowListeners={};if(config){console.warn(`Capacitor WebPlugin "${config.name}" config object was deprecated in v3 and will be removed in v4.`);this.config=config}}}const WebView=(null&&registerPlugin("WebView"))}),945:((module,exports)=>{(function(){"use strict";var is_common_js=typeof exports!="undefined";var default_opts={placeholder:"$%d"};function toArray(obj){return Object.keys(obj).map(function(key){return obj[key]})}function extend(obj){var other_objs=arguments;delete other_objs["0"];Object.keys(other_objs).forEach(function(arg_num){var other_obj=other_objs[arg_num];Object.keys(other_obj).forEach(function(key){obj[key]=other_obj[key]})});return obj}function cloneObj(obj){if(types.isArray(obj))return[].concat(arr);else return extend({},obj)}var types={isObject:function isObject(val){return typeof val=="object"},isArray:function isArray(val){return val instanceof Array},isUndefined:function isUndefined(val){return typeof val=="undefined"},isNull:function isNull(val){return val===null},isNumber:function isNumber(val){return typeof val=="number"},isString:function isString(val){return typeof val=="string"},isBoolean:function isBoolean(val){return typeof val=="boolean"},isDate:function isDate(val){return val instanceof Date}};function findIndex(arr,fn){for(var i=0;i<arr.length;i++){if(fn(arr[i])){return i}}return-1}function isEmpty(obj){return types.isUndefined(obj)||obj===null||Object.keys(obj).length==0}function applyDefaults(opts){Object.keys(default_opts).forEach(function(key){if(!opts[key])opts[key]=default_opts[key]});return opts}function sql1(str){if(!(this instanceof sql1))return applyNew(sql1,arguments);this.str=str;this.vals=toArray(arguments).slice(1);if(types.isArray(this.vals[0]))this.vals=this.vals[0]}sql1.setDefaultOpts=setDefaultOpts;function setDefaultOpts(opts){default_opts=extend(default_opts,opts)}sql1.prototype.toString=function toString(opts){function replacer(){if(!opts.values.length)return arguments[0];var ix=arguments.length>3?parseInt(arguments[1],10):opts.value_ix++;var val=opts.values[ix-1];if(types.isUndefined(val))throw new Error("Parameterized sql() ("+str+") requires "+ix+" parameter(s) but only "+opts.values.length+" parameter(s) were supplied");if(types.isObject(sql1)&&!types.isArray(sql1)&&sql1==null)return val.toString(opts);else return sql1.convert(val)}var str=this.str;if(!opts)opts=extend({},default_opts);if(!opts.values)opts.values=[];if(!opts.value_ix)opts.value_ix=1;this.vals.forEach(function(val){opts.values.push(val)});if(opts.value_ix>1){if(opts.placeholder=="$%d")str=str.replace(/\$(\d+)/g,function(match,capture){return"$"+(parseInt(capture,10)+opts.value_ix-1)});else if(opts.placeholder=="?%d")str=str.replace(/\?(\d+)/g,function(match,capture){return"?"+parseInt(capture,10)+opts.value_ix-1})}if(opts.placeholder=="$%d")str=str.replace(/\$(?!\d)/g,function(){return"$"+opts.value_ix++});else if(opts.placeholder=="?%d")str=str.replace(/\?(?!\d)/g,function(){return"?"+opts.value_ix++});if(!opts.parameterized){if(opts.placeholder=="$%d")str=str.replace(/\$(\d+)/g,replacer);else if(opts.placeholder=="?%d")str=str.replace(/\?(\d+)/g,replacer);else if(opts.placeholder=="$")str=str.replace(/\$/g,replacer);else if(opts.placeholder=="?")str=str.replace(/\?/g,replacer);else if(opts.placeholder==""){}else throw new Error('Unsupported placeholder: "'+opts.placeholder+'"')}else{opts.value_ix+=this.vals.length}return str};sql1.val=val11;function val11(_val){if(!(this instanceof val11))return new val11(_val);this.val=_val}[Select,Insert,Update,Delete].forEach(function(stmt){stmt.defineClause=function(clause_id,render_fn1,opts){opts=opts||{};render_fn1.clause_id=clause_id;this.prototype.clauses=this.prototype.clauses||[];var index;if(opts.after||opts.before){index=findIndex(this.prototype.clauses,function(render_fn){return render_fn.clause_id==(opts.after||opts.before)});if(index== -1)throw new Error("Error adding clause "+clause_id+': dependent clause "'+opts.after+'" not found');if(opts.after)index++}else{index=this.prototype.clauses.length}this.prototype.clauses.splice(index,0,render_fn1)}});sql1.select=inherits(Select,Statement);function Select(){if(!(this instanceof Select))return new Select(argsToArray(arguments));Select.super_.call(this,"select");return this.select.apply(this,arguments)}Select.prototype.select=function(){return this._addListArgs(arguments,"_columns")};Select.prototype.distinct=function(){this._distinct=true;return this._addListArgs(arguments,"_columns")};Select.prototype.into=Select.prototype.intoTable=function(tbl){this._into=tbl;return this};Select.prototype.intoTemp=Select.prototype.intoTempTable=function(tbl){this._temp=true;this._into=tbl;return this};Select.prototype.from=function(){return this._addListArgs(arguments,"_from")};var join_methods={"join":"INNER","innerJoin":"INNER","leftJoin":"LEFT","leftOuterJoin":"LEFT","rightJoin":"RIGHT","rightOuterJoin":"RIGHT","fullJoin":"FULL","fullOuterJoin":"FULL","naturalJoin":"NATURAL INNER","naturalInnerJoin":"NATURAL INNER","naturalLeftJoin":"NATURAL LEFT","naturalLeftOuterJoin":"NATURAL LEFT","naturalRightJoin":"NATURAL RIGHT","naturalRightOuterJoin":"NATURAL RIGHT","naturalFullJoin":"NATURAL FULL","naturalFullOuterJoin":"NATURAL FULL","crossJoin":"CROSS"};Object.keys(join_methods).forEach(function(method){Select.prototype[method]=function join(){return this._addJoins(arguments,join_methods[method])}});Select.prototype.on=function(on){var last_join=this.joins[this.joins.length-1];if(types.isArray(last_join.on)&&!isEmpty(last_join.on))throw new Error("Error adding clause ON: "+last_join.left_tbl+" JOIN "+last_join.tbl+" already has a USING clause.");if(isExpr(on)){last_join.on=on}else{if(!last_join.on||types.isArray(last_join.on))last_join.on={};extend(last_join.on,argsToObject(arguments))}return this};Select.prototype.using=function(columns){var last_join=this.joins[this.joins.length-1];if(!isEmpty(last_join.on)&&!types.isArray(last_join.on))throw new Error("Error adding clause USING: "+last_join.left_tbl+" JOIN "+last_join.tbl+" already has an ON clause.");if(isEmpty(last_join.on))last_join.on=[];var argsArray=argsToArray(arguments);argsArray.forEach(function(key){if(last_join.on.indexOf(key)== -1)last_join.on.push(key)});return this};Select.prototype.where=Select.prototype.and=function(){return this._addExpression(arguments,"_where")};Select.prototype.having=function(){return this._addExpression(arguments,"_having")};Select.prototype.groupBy=Select.prototype.group=function(){return this._addListArgs(arguments,"_groupBy")};Select.prototype.orderBy=Select.prototype.order=function(){return this._addListArgs(arguments,"_orderBy")};Select.prototype.of=function(){return this._addListArgs(arguments,"_of")};Select.prototype.forUpdate=function(){this._forUpdate=true;return this};Select.prototype.noWait=function(){this._noWait=true;return this};var compounds={"union":"UNION","unionAll":"UNION ALL","intersect":"INTERSECT","intersectAll":"INTERSECT ALL","except":"EXCEPT","exceptAll":"EXCEPT ALL"};Object.keys(compounds).forEach(function(key){Select.prototype[key]=function(){var stmts=argsToArray(arguments);if(!stmts.length){var stmt=new Select;stmt.prev_stmt=this;stmts=[stmt]}this._add(stmts,"_"+key);if(stmt)return stmt;else return this}});Select.prototype._toNestedString=function(opts){return"("+this._toString(opts)+")"+this._aliasToString(opts)};Select.prototype._aliasToString=function(opts){if(!this._alias)return"";return" "+autoQuote(this._alias)};Select.prototype.as=function(alias){this._alias=alias;return this};Select.prototype._toString=function _toString(opts){if(!this._columns.length)this._columns=["*"];return Select.super_.prototype._toString.apply(this,arguments)};Select.defineClause("select",function(opts){return`SELECT ${this._distinct?"DISTINCT ":""}`+(this._columns?handleColumns(this._columns,opts):"")});Select.defineClause("into",function(opts){if(this._into)return`INTO ${this._temp?"TEMP ":""}${handleTable(this._into,opts)}`});Select.defineClause("from",function(opts){if(!this._from)return;var result=`FROM ${handleTables(this._from,opts)}`;if(this.joins){result+=" "+this.joins.map((function(join){return join.toString(opts)}).bind(this)).join(" ")}return result});Select.defineClause("where",function(opts){if(this._where)return`WHERE ${handleExpression(this._where,opts)}`});Select.defineClause("groupBy",function(opts){if(this._groupBy)return`GROUP BY ${handleColumns(this._groupBy,opts)}`});Select.defineClause("having",function(opts){if(this._having)return`HAVING ${handleExpression(this._having,opts)}`});Object.keys(compounds).forEach(function(clause_id){var sql_keyword=compounds[clause_id];Select.defineClause(clause_id,function(opts){var arr=this["_"+clause_id];if(arr){return arr.map(function(stmt){return sql_keyword+" "+stmt._toString(opts)}).join(" ")}})});Select.defineClause("orderBy",function(opts){if(this._orderBy)return`ORDER BY ${handleColumns(this._orderBy,opts)}`});Select.defineClause("forUpdate",function(opts){if(this._forUpdate)return`FOR UPDATE${this._of?` OF ${handleColumns(this._of,opts)}`:""}`+(this._noWait?" NOWAIT":"")});sql1.insert=sql1.insertInto=inherits(Insert,Statement);function Insert(tbl,values){if(!(this instanceof Insert)){if(typeof values=="object"&&!types.isArray(values))return new Insert(tbl,values);else return new Insert(tbl,argsToArray(toArray(arguments).slice(1)))}Insert.super_.call(this,"insert");return this.into.apply(this,arguments)};Insert.prototype.into=function into(tbl,values){if(tbl)this._table=tbl;if(values){if(isPlainObject(values)||types.isArray(values)&&isPlainObject(values[0])){this.values(values)}else if(values.length){this._split_keys_vals_mode=true;this._values=[{}];var val_arr=argsToArray(toArray(arguments).slice(1));val_arr.forEach((function(key){this._values[0][key]=null}).bind(this))}}return this};Insert.prototype.values=function values(){if(this._split_keys_vals_mode){var outer_arr;if(types.isArray(arguments[0])&&types.isArray(arguments[0][0]))outer_arr=arguments[0];else outer_arr=[argsToArray(arguments)];var keys=Object.keys(this._values[0]);outer_arr.forEach((function(args,outer_ix){if(!this._values[outer_ix])this._values[outer_ix]={};keys.forEach((function(key,ix){this._values[outer_ix][key]=args[ix]}).bind(this))}).bind(this))}else{if(types.isArray(arguments[0])&&isPlainObject(arguments[0][0])){if(!this._values)this._values=[];this._values=this._values.concat(arguments[0])}else{if(!this._values)this._values=[{}];extend(this._values[0],argsToObject(arguments))}}return this};Insert.prototype.select=function select(){this._select=sql1.select.apply(null,arguments);this._select.prev_stmt=this;return this._select};Insert.defineClause("insert",function(){return"INSERT"});Insert.defineClause("into",function(opts){if(this._table)return`INTO ${handleTable(this._table,opts)}`});Insert.defineClause("columns",function(opts){if(this._values)return"("+handleColumns(Object.keys(this._values[0]),opts)+")"});Insert.defineClause("values",function(opts){if(this._select){return this._select._toString(opts)}else{var pickOrder=Object.keys(this._values[0]);return"VALUES "+this._values.map(function(values){var pickValues=pickOrder.map(function(key){return values[key]});return"("+handleValues(pickValues,opts).join(", ")+")"}).join(", ")}});sql1.update=inherits(Update,Statement);function Update(tbl,values){if(!(this instanceof Update))return new Update(tbl,argsToObject(toArray(arguments).slice(1)));Update.super_.call(this,"update");this._table=tbl;if(values)this.values(values);return this};Update.prototype.set=Update.prototype.values=function set(){return this._addToObj(argsToObject(arguments),"_values")};Update.prototype.where=Update.prototype.and=Select.prototype.where;Update.defineClause("update",function(){return"UPDATE"});Update.defineClause("table",function(opts){return handleTable(this._table,opts)});Update.defineClause("set",function(opts){return"SET "+Object.keys(this._values).map((function(key){return handleColumn(key,opts)+" = "+handleValue(this._values[key],opts)}).bind(this)).join(", ")});Update.defineClause("where",function(opts){if(this._where)return`WHERE ${handleExpression(this._where,opts)}`});sql1.delete=sql1.deleteFrom=inherits(Delete,Statement);function Delete(tbl){if(!(this instanceof Delete))return new Delete(tbl);Delete.super_.call(this,"delete");if(tbl)this._from=tbl;return this}Delete.prototype.from=function(tbl){this._from=tbl;return this};Delete.prototype.where=Delete.prototype.and=Select.prototype.where;Delete.defineClause("delete",function(opts){return`DELETE FROM ${handleTable(this._from,opts)}`});Delete.defineClause("where",function(opts){if(this._where)return`WHERE ${handleExpression(this._where,opts)}`});sql1.Statement=Statement;function Statement(type){this.type=type};Statement.prototype.clone=function clone(){var ctor;[Select,Insert,Update,Delete].forEach((function(fn){if(this instanceof fn)ctor=fn}).bind(this));var stmt=extend(new ctor,this);if(stmt._where)stmt._where=stmt._where.clone();if(stmt.joins)stmt.joins=stmt.joins.slice();if(stmt._values){if(types.isArray(stmt._values)){stmt._values=stmt._values.map(function(val){return cloneObj(val)})}else{stmt._values=cloneObj(stmt._values)}}return stmt};Statement.prototype.toParams=function toParams(opts){if(this.prev_stmt)return this.prev_stmt.toParams(opts);if(!opts)opts={};extend(opts,{"parameterized":true,"values":[],"value_ix":1});opts=applyDefaults(opts);var sql=this._toString(opts);return{"text":sql,"values":opts.values}};Statement.prototype.toString=function toString(opts){if(!opts)opts={};opts=applyDefaults(opts);if(this.prev_stmt)return this.prev_stmt.toString(opts);else return this._toString(opts).trim()};Statement.prototype._toString=function(opts){var clauses=[];this.clauses.forEach((function(clause){var clause=clause.call(this,opts);if(clause)clauses.push(clause)}).bind(this));return clauses.join(" ")};Statement.prototype._add=function _add(arr,name){if(!this[name])this[name]=[];this[name]=this[name].concat(arr);return this};Statement.prototype._addToObj=function _addToObj(obj,name){if(!this[name])this[name]={};extend(this[name],obj);return this};Statement.prototype._addListArgs=function _addListArgs(args,name){return this._add(argsToArray(args),name)};Statement.prototype._addExpression=function _addExpression(args,name){if(args.length<=1&&(args[0]==null||isEmpty(args[0])))return this;if(!this[name])this[name]=sql1.and();var exprs=argsToExpressions(args);this[name].expressions=this[name].expressions.concat(exprs);return this};Statement.prototype._addJoins=function _addJoins(args,type){if(!this.joins)this.joins=[];if(typeof args[1]=="object"){var tbls=[args[0]];var on=args[1];var opts=args[2]}else{tbls=argsToArray(args)}tbls.forEach((function(tbl){var left_tbl=this.last_join||this._from&&this._from[this._from.length-1];this.joins.push(new Join(tbl,left_tbl,on,type))}).bind(this));this.last_join=tbls[tbls.length-1];return this};function Join(tbl,left_tbl,on,type){this.tbl=tbl;this.left_tbl=left_tbl;this.on=on;this.type=type}sql1.Join=Join;Join.prototype.autoGenerateOn=function autoGenerateOn(tbl,left_tbl){return sql1._joinCriteria(getTable(left_tbl),getAlias(left_tbl),getTable(tbl),getAlias(tbl))};Join.prototype.toString=function toString(opts){var on=this.on,tbl=handleTable(this.tbl,opts);if(/^(natural|cross)/i.test(this.type))return this.type+" JOIN "+tbl;if(!on||isEmpty(on)){if(sql1._joinCriteria){var left_tbl=handleTable(this.left_tbl,opts);on=this.autoGenerateOn(tbl,left_tbl)}else{throw new Error('No join criteria supplied for "'+getAlias(tbl)+'" join')}}if(types.isArray(on)){on=on.map(function(column){return handleColumn(column)}).join(", ");return this.type+" JOIN "+tbl+" USING ("+on+")"}if(isExpr(on)){on=on.toString(opts)}else{on=Object.keys(on).map(function(key){return handleColumn(key,opts)+" = "+handleColumn(on[key],opts)}).join(" AND ")}return this.type+" JOIN "+tbl+" ON "+on};function argsToArray(args){if(types.isArray(args[0])){return args[0]}else if(typeof args[0]=="string"&&args[0].indexOf(",")> -1){return args[0].split(",").map(function(arg){return arg.trim()})}else{return toArray(args)}}function argsToObject(args){if(typeof args[0]=="object")return args[0];var obj={};if(args[0]!=null)obj[args[0]]=args[1];return obj}function argsToExpressions(args){var flat_args=true;Object.keys(args).forEach(function(key){var arg=args[key];if(!(typeof arg!="object"||arg instanceof val11||arg instanceof sql1||arg==null)){flat_args=false;return}});if(flat_args){if(args[0]instanceof sql1&&args.length==1)return[args[0]];else return[sql1.equal(args[0],args[1])]}else{var exprs=[];Object.keys(args).forEach(function(key){var expr=args[key];if(isExpr(expr))exprs.push(expr);else exprs=exprs.concat(objToEquals(expr))});return exprs}}sql1.and=function and(){return new Group("AND",argsToArray(arguments))};sql1.or=function or(){return new Group("OR",argsToArray(arguments))};function Group(op,expressions){this.op=op;this.expressions=[];expressions.forEach((function(expr){if(isExpr(expr))this.expressions.push(expr);else this.expressions=this.expressions.concat(objToEquals(expr))}).bind(this))}sql1.Group=Group;Group.prototype.clone=function clone(){return new Group(this.op,this.expressions.map(function(expr){return expr.clone()}))};Group.prototype.toString=function toString(opts){opts=opts||extend({},default_opts);var sql=Object.keys(this.expressions).map((function(expr){return this.expressions[expr].toString(opts)}).bind(this)).join(" "+this.op+" ");if(this.expressions.length>1&&this.parens!==false)sql="("+sql+")";return sql};sql1.not=function not(expr){return new Not(expr)};function Not(expr){if(!isExpr(expr))this.expressions=[sql1.and(expr)];else this.expressions=[expr]}sql1.Not=Not;Not.prototype.clone=function clone(){return new Not(this.expressions[0].clone())};Not.prototype.toString=function toString(opts){return"NOT "+this.expressions[0].toString(opts)};var binary_ops={"eq":"=","equal":"=","notEq":"<>","lt":"<","lte":"<=","gt":">","gte":">="};var quantifiers=["All","Any"];for(var name1 in binary_ops){sql1[name1]=(function(name,col,val){return new Binary(binary_ops[name],col,val)}).bind(null,name1);quantifiers.forEach((function(name,quantifier){sql1[name+quantifier]=function(col,val){return new Binary(binary_ops[name],col,val,quantifier.toUpperCase()+" ")}}).bind(null,name1));sql1[name1+"Some"]=sql1[name1+"Any"]}function Binary(op,col,val,quantifier){if(val==null){if(op=="=")return sql1.isNull(col);else if(op=="<>")return sql1.isNotNull(col)}this.op=op;this.col=col;this.val=val;this.quantifier=quantifier||""}sql1.Binary=Binary;Binary.prototype.clone=function clone(){return new Binary(this.op,this.col,this.val)};Binary.prototype.toString=function toString(opts){var sql=handleColumn(this.col,opts);return sql+" "+this.op+" "+this.quantifier+handleValue(this.val,opts)};sql1.like=function like(col,val,escape_char){return new Like(col,val,escape_char)};function Like(col,val,escape_char){this.col=col;this.val=val;this.escape_char=escape_char}sql1.Like=Like;Like.prototype.clone=function clone(){return new Like(this.col,this.val,this.escape_char)};Like.prototype.toString=function toString(opts){var sql=handleColumn(this.col,opts)+" LIKE "+handleValue(this.val,opts);if(this.escape_char)sql+=" ESCAPE '"+this.escape_char+"'";return sql};sql1.between=function between(col,val1,val2){return new Between(col,val1,val2)};function Between(col,val1,val2){this.col=col;this.val1=val1;this.val2=val2}sql1.Between=Between;Between.prototype.clone=function clone(){return new Between(this.col,this.val1,this.val2)};Between.prototype.toString=function(opts){return handleColumn(this.col,opts)+" BETWEEN "+handleValue(this.val1,opts)+" AND "+handleValue(this.val2,opts)};sql1.isNull=function isNull(col){return new Unary("IS NULL",col)};sql1.isNotNull=function isNotNull(col){return new Unary("IS NOT NULL",col)};function Unary(op,col){this.op=op;this.col=col}sql1.Unary=Unary;Unary.prototype.clone=function clone(){return new Unary(this.op,this.col)};Unary.prototype.toString=function toString(opts){return handleColumn(this.col,opts)+" "+this.op};sql1["in"]=function(col,list){if(types.isArray(list)||list instanceof Statement)return new In(col,list);else return new In(col,toArray(arguments).slice(1))};function In(col,list){this.col=col;this.list=list}sql1.In=In;In.prototype.clone=function clone(){var list=this.list instanceof Statement?this.list.clone():cloneObj(this.list);return new In(this.col,list)};In.prototype.toString=function toString(opts){var col_sql=handleColumn(this.col,opts);var sql;if(types.isArray(this.list))sql=handleValues(this.list,opts).join(", ");else if(this.list instanceof Statement)sql=this.list._toString(opts);return col_sql+" IN ("+sql+")"};sql1.exists=function(subquery){return new Exists(subquery)};function Exists(subquery){this.subquery=subquery};sql1.Exists=Exists;Exists.prototype.clone=function clone(){return new Exists(this.subquery.clone())};Exists.prototype.toString=function toString(opts){return"EXISTS ("+this.subquery._toString(opts)+")"};function getAlias(tbl){var separator=" AS ";var sep_ix=tbl.indexOf(separator);if(sep_ix== -1){separator=" ";sep_ix=tbl.indexOf(separator)}if(sep_ix> -1)return tbl.slice(sep_ix+separator.length);return tbl}function getTable(tbl){var space_ix=tbl.indexOf(" ");if(space_ix> -1)tbl=tbl.slice(0,space_ix);if(tbl[0]=='"'&&tbl[tbl.length-1]=='"')tbl=tbl.slice(1,-1);return tbl}function isExpr(expr){return expr instanceof sql1||expr instanceof Group||expr instanceof Not||expr instanceof Binary||expr instanceof Unary||expr instanceof In||expr instanceof Like||expr instanceof Between||expr instanceof Exists}function objToEquals(obj){var expressions=[];for(var col in obj){expressions.push(sql1.equal(col,obj[col]))}return expressions}function handleExpression(expr,opts){expr.parens=false;if(expr.expressions&&expr.expressions.length==1)expr.expressions[0].parens=false;return expr.toString(opts)}sql1._handleExpression=handleExpression;function handleValues(vals,opts){return vals.map(function(val){return handleValue(val,opts)})}sql1._handleValues=handleValues;function handleValue(val,opts){if(val instanceof Statement)return"("+val._toString(opts)+")";if(val instanceof sql1)return val.toString(opts);if(opts.parameterized){opts.values.push(val);return opts.placeholder.replace("%d",opts.value_ix++)}return sql1.convert(val)}sql1._handleValue=handleValue;sql1.convert=function(val){for(var type in sql1.conversions){if(types["is"+type](val))return sql1.conversions[type](val)}throw new Error("value is of an unsupported type and cannot be converted to SQL: "+val)};sql1.conversions={"String":function(str){return"'"+str.replace(/'/g,"''")+"'"},"Null":function(){return"null"},"Undefined":function(){return"null"},"Number":function(num){return num.toString()},"Boolean":function(bool){return bool.toString().toUpperCase()},"Date":function(dt){return"TIMESTAMP WITH TIME ZONE '"+dt.toISOString().replace("T"," ").replace("Z","+00:00")+"'"}};function handleTables(tables,opts){return tables.map(function(tbl){return handleTable(tbl,opts)}).join(", ")}sql1._handleTables=handleTables;function handleTable(table,opts){return handleColumn(expandAlias(table),opts)}sql1._handleTable=handleTable;function handleColumns(cols,opts){return cols.map(function(col){return handleColumn(col,opts)}).join(", ")}sql1._handleColumns=handleColumns;var unquoted_regex=/^[\w\.]+(( AS)? \w+)?$/i;function handleColumn(expr,opts){if(expr instanceof Statement)return expr._toNestedString(opts);if(expr instanceof val11)return handleValue(expr.val,opts);if(expr instanceof sql1)return expr.toString(opts);if(unquoted_regex.test(expr))return quoteColOrTbl(expr);else return expr}sql1._handleColumn=handleColumn;function quoteColOrTbl(expr){var prefix="";var dot_ix=expr.lastIndexOf(".");if(dot_ix> -1){prefix=expr.slice(0,dot_ix);expr=expr.slice(dot_ix+1)}var suffix="";var space_ix=expr.indexOf(" ");if(space_ix> -1){suffix=expr.slice(space_ix);expr=expr.slice(0,space_ix)}return(prefix?autoQuote(prefix)+".":"")+autoQuote(expr)+suffix}sql1._quoteColOrTbl=quoteColOrTbl;sql1._autoQuoteChar='"';function autoQuote(str){if(/^\w+$/.test(str)&&(/[A-Z]/.test(str)||str in reserved))return sql1._autoQuoteChar+str+sql1._autoQuoteChar;return str}sql1._autoQuote=autoQuote;var reserved=["all","analyse","analyze","and","any","array","as","asc","asymmetric","authorization","both","case","cast","check","collate","collation","column","constraint","create","cross","current_catalog","current_date","current_role","current_time","current_timestamp","current_user","default","deferrable","desc","distinct","do","else","end","except","false","fetch","for","foreign","freeze","from","full","grant","group","having","ilike","in","initially","inner","intersect","into","is","isnull","join","lateral","leading","left","like","limit","localtime","localtimestamp","natural","not","notnull","null","offset","on","only","or","order","outer","over","overlaps","placing","primary","references","returning","right","select","session_user","similar","some","symmetric","table","then","to","trailing","true","union","unique","user","using","variadic","verbose","when","where","window","with","abort","action","add","after","all","alter","analyze","and","as","asc","attach","autoincrement","before","begin","between","by","cascade","case","cast","check","collate","column","commit","conflict","constraint","create","cross","current_date","current_time","current_timestamp","database","default","deferrable","deferred","delete","desc","detach","distinct","drop","each","else","end","escape","except","exclusive","exists","explain","fail","for","foreign","from","full","glob","group","having","if","ignore","immediate","in","index","indexed","initially","inner","insert","instead","intersect","into","is","isnull","join","key","left","like","limit","match","natural","no","not","notnull","null","of","offset","on","or","order","outer","plan","pragma","primary","query","raise","references","regexp","reindex","release","rename","replace","restrict","right","rollback","row","savepoint","select","set","table","temp","temporary","then","to","transaction","trigger","union","unique","update","using","vacuum","values","view","virtual","when","where"];var reserved_obj={};reserved.forEach(function(val){reserved_obj[val]=val});reserved=reserved_obj;sql1._reserved=reserved;function isPlainObject(val){return types.isObject(val)&&!types.isArray(val)}sql1._aliases={};sql1.aliasExpansions=function aliasExpansions(aliases){sql1._aliases=aliases};function expandAlias(tbl){return typeof tbl=="string"&&tbl in sql1._aliases?sql1._aliases[tbl]+" "+tbl:tbl}sql1.joinCriteria=function joinCriteria(fn){if(!fn)return sql1._joinCriteria;sql1._joinCriteria=fn};function inherits(ctor,superCtor){function noop(){};if(Object.create){ctor.super_=superCtor;ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:false,writable:true,configurable:true}})}else{noop.prototype=superCtor.prototype;ctor.super_=superCtor;ctor.prototype=new noop;ctor.prototype.constructor=ctor}return ctor}sql1.inherits=inherits;sql1._extension=function(){var ext=subclass(sql1);Object.keys(sql1).forEach(function(prop_name){ext[prop_name]=sql1[prop_name]});["select","insert","update","delete"].forEach(function(stmt){var cls=sql1[stmt];ext[stmt]=subclass(cls);ext[stmt].defineClause=cls.defineClause;ext[stmt].prototype.clauses=cls.prototype.clauses.slice()});ext.insertInto=ext.insert;ext.deleteFrom=ext.delete;return ext};function subclass(base){function cls(){if(!(this instanceof cls))return applyNew(cls,arguments);base.apply(this,arguments)}return inherits(cls,base)}function applyNew(cls,args){args=toArray(args);args.unshift(null);return new(cls.bind.apply(cls,args))}if(is_common_js)module.exports=sql1;else window.SqlBricks=sql1})()})};var __webpack_module_cache__={};function __webpack_require__1(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(cachedModule!==undefined){return cachedModule.exports}var module=__webpack_module_cache__[moduleId]={exports:{}};__webpack_modules__[moduleId](module,module.exports,__webpack_require__1);return module.exports}__webpack_require__1.m=__webpack_modules__;(()=>{__webpack_require__1.d=(exports,definition)=>{for(var key in definition){if(__webpack_require__1.o(definition,key)&&!__webpack_require__1.o(exports,key)){Object.defineProperty(exports,key,{enumerable:true,get:definition[key]})}}}})();(()=>{__webpack_require__1.f={};__webpack_require__1.e=chunkId=>{return Promise.all(Object.keys(__webpack_require__1.f).reduce((promises,key)=>{__webpack_require__1.f[key](chunkId,promises);return promises},[]))}})();(()=>{__webpack_require__1.u=chunkId=>{return""+"4fdeff5a4391f92514f0"+".client.js"}})();(()=>{__webpack_require__1.miniCssF=chunkId=>{return undefined}})();(()=>{__webpack_require__1.g=function(){if(typeof globalThis==="object")return globalThis;try{return this||new Function("return this")()}catch(e){if(typeof window==="object")return window}}()})();(()=>{__webpack_require__1.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop)})();(()=>{var inProgress={};var dataWebpackPrefix="dbcapacitor:";__webpack_require__1.l=(url,done,key,chunkId)=>{if(inProgress[url]){inProgress[url].push(done);return}var script,needAttach;if(key!==undefined){var scripts=document.getElementsByTagName("script");for(var i=0;i<scripts.length;i++){var s=scripts[i];if(s.getAttribute("src")==url||s.getAttribute("data-webpack")==dataWebpackPrefix+key){script=s;break}}}if(!script){needAttach=true;script=document.createElement("script");script.charset="utf-8";script.timeout=120;if(__webpack_require__1.nc){script.setAttribute("nonce",__webpack_require__1.nc)}script.setAttribute("data-webpack",dataWebpackPrefix+key);script.src=url}inProgress[url]=[done];var onScriptComplete=(prev,event)=>{script.onerror=script.onload=null;clearTimeout(timeout);var doneFns=inProgress[url];delete inProgress[url];script.parentNode&&script.parentNode.removeChild(script);doneFns&&doneFns.forEach(fn=>fn(event));if(prev)return prev(event)};var timeout=setTimeout(onScriptComplete.bind(null,undefined,{type:"timeout",target:script}),12e4);script.onerror=onScriptComplete.bind(null,script.onerror);script.onload=onScriptComplete.bind(null,script.onload);needAttach&&document.head.appendChild(script)}})();(()=>{__webpack_require__1.r=exports=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})}})();(()=>{__webpack_require__1.p="/"})();(()=>{var installedChunks={179:0};__webpack_require__1.f.j=(chunkId,promises)=>{var installedChunkData=__webpack_require__1.o(installedChunks,chunkId)?installedChunks[chunkId]:undefined;if(installedChunkData!==0){if(installedChunkData){promises.push(installedChunkData[2])}else{if(true){var promise=new Promise((resolve,reject)=>installedChunkData=installedChunks[chunkId]=[resolve,reject]);promises.push(installedChunkData[2]=promise);var url=__webpack_require__1.p+__webpack_require__1.u(chunkId);var error=new Error;var loadingEnded=event=>{if(__webpack_require__1.o(installedChunks,chunkId)){installedChunkData=installedChunks[chunkId];if(installedChunkData!==0)installedChunks[chunkId]=undefined;if(installedChunkData){var errorType=event&&(event.type==="load"?"missing":event.type);var realSrc=event&&event.target&&event.target.src;error.message="Loading chunk "+chunkId+" failed.\n("+errorType+": "+realSrc+")";error.name="ChunkLoadError";error.type=errorType;error.request=realSrc;installedChunkData[1](error)}}};__webpack_require__1.l(url,loadingEnded,"chunk-"+chunkId,chunkId)}else installedChunks[chunkId]=0}}};var webpackJsonpCallback=(parentChunkLoadingFunction,data)=>{var[chunkIds,moreModules,runtime]=data;var moduleId,chunkId,i=0;if(chunkIds.some(id=>installedChunks[id]!==0)){for(moduleId in moreModules){if(__webpack_require__1.o(moreModules,moduleId)){__webpack_require__1.m[moduleId]=moreModules[moduleId]}}if(runtime)var result=runtime(__webpack_require__1)}if(parentChunkLoadingFunction)parentChunkLoadingFunction(data);for(;i<chunkIds.length;i++){chunkId=chunkIds[i];if(__webpack_require__1.o(installedChunks,chunkId)&&installedChunks[chunkId]){installedChunks[chunkId][0]()}installedChunks[chunkId]=0}};var chunkLoadingGlobal=self["webpackChunkdbcapacitor"]=self["webpackChunkdbcapacitor"]||[];chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null,0));chunkLoadingGlobal.push=webpackJsonpCallback.bind(null,chunkLoadingGlobal.push.bind(chunkLoadingGlobal))})();var __webpack_exports__1={};(()=>{"use strict";const reISO=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/;const reMsAjax=/^\/Date\((d|-|.*)\)[\/|\\]$/;function dateParser(key,value){if(typeof value==="string"){let a=reISO.exec(value);if(a)return new Date(value);a=reMsAjax.exec(value);if(a){const b=a[1].split(/[-+,.]/);return new Date(b[0]?+b[0]:0- +b[1])}}return value};function deserialize(string){return JSON.parse(string,dateParser)};;const state1=deserialize(decodeURIComponent(document.querySelector(`[name=nullstack]`).content));const client_state=state1;function fragment({children}){return children};;const seed=Object.freeze([]);function normalize(child){return child!==null&&child!==void 0?child:false}function element_element(type,props,...children){children=seed.concat(...children).map(normalize);if(type==="textarea"){children=[children.join("")]}const attributes={...props,children};if(type==="style"&&!attributes.html){attributes.html=children.join("")}if(type==="element"){type=attributes.tag||fragment;delete attributes.tag}if(typeof type==="function"&&type.render!==undefined){return{type,attributes,children:null}}return{type,attributes,children}};;function generateKey(scope,node,depth){if(node.attributes.key)return node.attributes.key;const prefix=depth.length===1?"application":node.type.name+"/"+depth;if(node.attributes.route){return prefix+(scope.context.environment.mode==="ssg"?scope.context.router.path:scope.context.router.url)}return prefix};;function isUndefined(node){if(node===undefined)return true;if(node===null)return false;return node.hasOwnProperty("type")&&node.type===undefined}function isFalse(node){if(node===null||node===false)return true;return(node===null||node===void 0?void 0:node.hasOwnProperty("type"))&&node.type===null||node.type===false}function isClass(node){return typeof node.type==="function"&&node.type.prototype&& typeof node.type.prototype.render==="function"}function isFunction(node){return typeof node.type==="function"}function isText(node){return node.type==="text"};function extractLocation(originalUrl){let[target,hash]=originalUrl.split("#");let[path,search]=target.split("?");if(path!=="/"&&path.endsWith("/")){path=path.substring(0,path.length-1)}let url=path;if(search){url+="?"+search}let urlWithHash=url;if(hash){urlWithHash+="#"+hash}if(hash===undefined){hash=""}return{path,search,url,urlWithHash,hash}};;function extractParamValue(value){if(value==="true")return true;if(value==="false")return false;return value?decodeURIComponent(value.replace(/\+/g," ")):""};;function routeMatches(url,route){let{path}=extractLocation(url);const urlPaths=path.split("/");const routePaths=route.split("/");const params={};const length=Math.max(urlPaths.length,routePaths.length);let catchall=false;for(let i=0;i<length;i++){if(catchall){continue}else if(routePaths[i]==="*"){catchall=true}else if(routePaths[i]&&routePaths[i].startsWith(":")){const key=routePaths[i].replace(":","");params[key]=extractParamValue(urlPaths[i])}else if(routePaths[i]!==urlPaths[i]){return false}}return params};;function erase(node){node.type=false;delete node.attributes;delete node.children}function match1(node){return node&&node.attributes!==undefined&&node.attributes.route!==undefined}function load({router}){router._routes={}}function transform({node,depth,router}){if(!match1(node))return;const routeDepth=depth.slice(0,depth.lastIndexOf("-"));if(router._routes[routeDepth]!==undefined){erase(node)}else{const params=routeMatches(router.url,node.attributes.route);if(params){router._routes[routeDepth]=true;Object.assign(router._segments,params)}else{erase(node)}}}const routable={load,transform,client:true,server:true};function noop(){};;var _attributes,_attributes1,_attributes2;function bindable_match(node){var ref;return(node===null||node===void 0?void 0:(ref=node.attributes)===null||ref===void 0?void 0:ref.bind)!==undefined}function bindable_transform({node,environment}){if(!bindable_match(node))return;var _object;const object=(_object=node.attributes.bind.object)!==null&&_object!==void 0?_object:{};const property=node.attributes.bind.property;if(node.type==="textarea"){node.children=[object[property]]}else if(node.type==="input"&&node.attributes.type==="checkbox"){node.attributes.checked=object[property]}else{var _property;node.attributes.value=(_property=object[property])!==null&&_property!==void 0?_property:""}if(environment.client){if(node.attributes.type==="checkbox"||node.attributes.type==="radio"){var _onclick;(_onclick=(_attributes=node.attributes).onclick)!==null&&_onclick!==void 0?_onclick:_attributes.onclick=noop}else if(node.type!=="input"&&node.type!=="textarea"){var _onchange;(_onchange=(_attributes1=node.attributes).onchange)!==null&&_onchange!==void 0?_onchange:_attributes1.onchange=noop}else{var _oninput;(_oninput=(_attributes2=node.attributes).oninput)!==null&&_oninput!==void 0?_oninput:_attributes2.oninput=noop}}}const bindable={transform:bindable_transform,client:true,server:true};function serializeParam(value){var ref;var ref1;return(ref1=value===null||value===void 0?void 0:(ref=value.toJSON)===null||ref===void 0?void 0:ref.call(value))!==null&&ref1!==void 0?ref1:value};;function serializeSearch(params){const keys=Object.keys(params);return keys.map(key=>{if(params[key]===false||!!params[key]){return`${key}=${params[key]}`}else{return""}}).filter(segment=>!!segment).join("&")};;function parameterizable_match(node){return node&&node.attributes&&(node.attributes.params||node.attributes.path)}function parameterizable_transform({node,router,params}){if(!parameterizable_match(node))return;let serializedParams;if(node.attributes.params){serializedParams={};for(const key in node.attributes.params){serializedParams[key]=serializeParam(node.attributes.params[key])}}else{serializedParams=params}const search=serializeSearch(serializedParams);const path=node.attributes.path||router.path;node.attributes.href=path+(search?"?":"")+search;delete node.attributes.path;delete node.attributes.params}const parameterizable={transform:parameterizable_transform,client:true,server:true};var anchorable_attributes;function anchorable_match(node){return node&&node.type==="a"&&node.attributes.href&&node.attributes.href.startsWith("/")&&!node.attributes.target}function anchorable_transform({node}){if(!anchorable_match(node))return;var _onclick;(_onclick=(anchorable_attributes=node.attributes).onclick)!==null&&_onclick!==void 0?_onclick:anchorable_attributes.onclick=noop}const anchorable={transform:anchorable_transform,client:true};const plugins=[parameterizable,anchorable,routable,bindable];function transformNodes(scope,node,depth){for(const plugin of plugins){plugin.transform({...scope.context,node,depth})}}function loadPlugins(scope){for(const plugin of plugins){plugin.load&&plugin.load(scope.context)}return plugins}function useClientPlugins(plugin){if(plugin.client)plugins.push(plugin)}function useServerPlugins(plugin){if(plugin.server)plugins.push(plugin)};var generateTree_attributes;async function generateBranch(siblings,node,depth,scope){transformNodes(scope,node,depth);if(isUndefined(node)){let message="Attempting to render an undefined node. \n";if(node===undefined){message+="This error usually happens because of a missing return statement around JSX or returning undefined from a renderable function."}else{message+="This error usually happens because of a missing import statement or a typo on a component tag"}throw new Error(message)}if(isFalse(node)){siblings.push({type:false,attributes:{}});return}if(isClass(node)){const key=generateKey(scope,node,depth);const instance=scope.instances[key]||new node.type(scope);instance.persistent=!!node.attributes.persistent;instance.key=key;instance._attributes=node.attributes;instance._scope=scope;let memory;if(scope.memory){memory=scope.memory[key];if(memory){instance.prerendered=true;instance.initiated=true;Object.assign(instance,memory);delete scope.memory[key]}}let shouldHydrate=false;const shouldLaunch=instance.initiated&&(!instance.prerendered||instance.persistent&&instance.terminated);if(instance.terminated){shouldHydrate=true;instance.terminated=false}const shouldPrepare=scope.instances[key]===undefined;scope.instances[key]=instance;if(shouldPrepare){if(memory===undefined){instance.prepare&&instance.prepare();if(scope.context.environment.server){instance.initiate&&await instance.initiate();instance.initiated=true;instance.launch&&instance.launch()}else{scope.initiationQueue.push(instance)}}shouldHydrate=true}if(scope.hydrationQueue){if(shouldHydrate){shouldLaunch&&instance.launch&&instance.launch();scope.hydrationQueue.push(instance)}else if(instance.initiated===true){instance.update&&instance.update()}}if(scope.context.environment.client){scope.renewalQueue.push(instance)}const children=instance.render();if(children&&children.type){children.instance=instance}node.children=[].concat(children);for(let i=0;i<node.children.length;i++){await generateBranch(siblings,node.children[i],depth+"-"+i,scope)}return}if(node.type==="body"){node.type=fragment;for(const attribute in node.attributes){if(attribute==="children"||attribute.startsWith("_"))continue;if(attribute==="class"||attribute==="style"){if(!scope.nextBody[attribute]){scope.nextBody[attribute]=[]}scope.nextBody[attribute].push(node.attributes[attribute])}else if(attribute.startsWith("on")){if(scope.context.environment.server)continue;if(!scope.nextBody[attribute]){scope.nextBody[attribute]=[]}if(Array.isArray(node.attributes[attribute])){scope.nextBody[attribute].push(...node.attributes[attribute])}else{scope.nextBody[attribute].push(node.attributes[attribute])}}else{scope.nextBody[attribute]=node.attributes[attribute]}}}if(isFunction(node)){const context=node.type.name?scope.generateContext(node.attributes):node.attributes;const children=node.type(context);node.children=[].concat(children);for(let i=0;i<node.children.length;i++){await generateBranch(siblings,node.children[i],depth+"-"+i,scope)}return}if(node.type){if(node.type==="head"){siblings.push({type:false,attributes:{}});for(let i=0;i<node.children.length;i++){const id=depth+"-"+i;await generateBranch(scope.nextHead,node.children[i],id,scope);var _id;(_id=(generateTree_attributes=scope.nextHead[scope.nextHead.length-1].attributes).id)!==null&&_id!==void 0?_id:generateTree_attributes.id=id}}else if(node.children){const branch={type:node.type,attributes:node.attributes,children:[]};for(let i=0;i<node.children.length;i++){await generateBranch(branch.children,node.children[i],depth+"-"+i,scope)}siblings.push(branch)}return}siblings.push({type:"text",text:node})}async function generateTree(node,scope){const tree={type:"div",attributes:{id:"application"},children:[]};await generateBranch(tree.children,node,"0",scope);return tree};;const objectProxyHandler={set(target,name,value){if(isProxyable(name,value)){target[name]=new Proxy(value,this)}else{target[name]=value}if(!name.startsWith("_")){client_client.update()}return true},get(target,name){if(name==="_isProxy")return true;return Reflect.get(...arguments)}};function isProxyable(name,value){if(name.startsWith("_"))return false;const constructor=value===null||value===void 0?void 0:value.constructor;if(!constructor)return false;if(value._isProxy)return false;return constructor===Array||constructor===Object}function generateObjectProxy(name,value){if(isProxyable(name,value)){if(typeof value==="object"){for(const key of Object.keys(value)){value[key]=generateObjectProxy(key,value[key])}}return new Proxy(value,objectProxyHandler)}else{return value}}const client_objectProxyHandler=null&&objectProxyHandler;const context1={};for(const key1 of Object.keys(client_state.context)){context1[key1]=generateObjectProxy(key1,client_state.context[key1])}const contextProxyHandler={set(target,name,value){context1[name]=generateObjectProxy(name,value);client_client.update();return true},get(target,name){if(name==="_isProxy")return true;return target[name]===undefined?context1[name]:target[name]}};function generateContext(temporary){return new Proxy(temporary,contextProxyHandler)}const client_context=context1;const environment1={...client_state.environment,client:true,server:false,event:"nullstack.environment"};const client_environment=environment1;let timer=null;function windowEvent(name){clearTimeout(timer);setTimeout(()=>{const event=new Event("nullstack."+name);window.dispatchEvent(event)},0)};;const page1={...client_state.page,event:"nullstack.page"};delete client_state.page;const pageProxyHandler={set(target,name,value){if(name==="title"){document.title=value}const result=Reflect.set(...arguments);if(name==="title"){windowEvent("page")}client_client.update();return result}};const proxy1=new Proxy(page1,pageProxyHandler);const client_page=proxy1;function getQueryStringParams(url){const[path,query]=url.split("?");if(query){return query.split("&").reduce((params,param)=>{let[key,value]=param.split("=");params[key]=extractParamValue(value);return params},{})}else{return{}}};;;const segments={};const client_segments=segments;function resetSegments(){for(const key in segments){delete segments[key]}};const paramsProxyHandler={set(target,name,value){const serializedValue=serializeParam(value);target[name]=serializedValue;const search=serializeSearch(target);client_router.url=client_router.path+(search?"?":"")+search;return true},get(target,name){if(target[name]===false)return false;if(client_segments[name]===false)return false;return target[name]||client_segments[name]||""}};const params1={...client_state.params};delete client_state.params;const params_proxy=new Proxy(params1,paramsProxyHandler);function updateParams(query){resetSegments();const delta=getQueryStringParams(query);for(const key of Object.keys({...delta,...params1})){params1[key]=delta[key]}return params_proxy}const client_params=params_proxy;const worker={...client_state.worker};delete client_state.worker;const emptyQueue=Object.freeze([]);const queuesProxyHandler={set(target,name,value){target[name]=value;client_client.update();return true},get(target,name){return target[name]||emptyQueue}};worker.queues=new Proxy({},queuesProxyHandler);const workerProxyHandler={set(target,name,value){if(target[name]!==value){target[name]=value;client_client.update()}return true}};const worker_proxy=new Proxy(worker,workerProxyHandler);if(worker.enabled){window.addEventListener("beforeinstallprompt",function(event){event.preventDefault();worker_proxy.installation=event});async function register(){if("serviceWorker"in navigator){const request=`/service-worker.js`;try{worker_proxy.registration=await navigator.serviceWorker.register(request,{scope:"/"})}catch(error){console.log(error)};}};register()}window.addEventListener("online",()=>{worker_proxy.online=true;if(client_environment.mode==="ssg"){client_router._update(client_router.url)}else{worker_proxy.responsive=true}});window.addEventListener("offline",()=>{worker_proxy.online=false});const client_worker=worker_proxy;function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}let redirectTimer=null;class Router{async _popState(){const{urlWithHash}=extractLocation(window.location.pathname+window.location.search);await this._update(urlWithHash,false)}async _update(target,push){const{url,path,hash,urlWithHash}=extractLocation(target);if(url===this._url&&this._hash===hash)return;this.previous=this.url;clearTimeout(redirectTimer);redirectTimer=setTimeout(async()=>{client_page.status=200;if(client_environment.mode==="ssg"){client_worker.fetching=true;const api="/index.json";const endpoint=path==="/"?api:path+api;try{const response=await fetch(endpoint);const payload=await response.json(url);client_client.memory=payload.instances;for(const key in payload.page){client_page[key]=payload.page[key]}client_worker.responsive=true}catch(error){client_worker.responsive=false}client_worker.fetching=false}if(push){history.pushState({},document.title,urlWithHash)}this._url=url;this._hash=hash;this._changed=true;updateParams(url);client_client.update();windowEvent("router")},0)}async _redirect(target){if(/^(\w+:|\/\/)([^.]+.)/.test(target)){return window.location.href=target}const absoluteUrl=new URL(target,document.baseURI);await this._update(absoluteUrl.pathname+absoluteUrl.search+absoluteUrl.hash,true);window.scroll(0,0)}get url(){return this._url}set url(target){this._redirect(target)}get path(){return extractLocation(this._url).path}set path(target){this._redirect(target+window.location.search)}get base(){if(this._base)return this._base;this._base=new URL(document.querySelector('[rel="canonical"]').href).origin;return this._base}constructor(){_defineProperty(this,"event","nullstack.router");_defineProperty(this,"previous",null);_defineProperty(this,"_changed",false);_defineProperty(this,"_segments",client_segments);const{hash,url}=extractLocation(window.location.pathname+window.location.search);this._url=url;this._hash=hash}}const router1=new Router;const client_router=router1;function anchorableElement(element){const links=element.querySelectorAll('a[href^="/"]:not([target])');for(const link of links){link.addEventListener("click",event=>{if(!event.ctrlKey&&!event.shiftKey&&!event.altKey&&!event.metaKey){event.preventDefault();client_router.url=link.getAttribute("href")}})}};function camelize(key){return key.toLowerCase().replace(/[^a-zA-Z0-9]+(.)/g,(m,chr)=>chr.toUpperCase())}function kebabize(key){return key.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()};;const eventCallbacks=new WeakMap;const eventSubjects=new WeakMap;const eventDebouncer=new WeakMap;function executeEvent(callback,subject,event,data){if(typeof callback==="object"){Object.assign(subject.source,callback)}else{callback({...subject,event,data})}}function debounce(selector,name,time,callback){if(!time){callback()}else{const eventMap=eventDebouncer.get(selector)||{};clearTimeout(eventMap[name]);eventMap[name]=setTimeout(callback,time);eventDebouncer.set(selector,eventMap)}}function generateCallback(selector,name){return function eventCallback(event){const subject=eventSubjects.get(selector);if(!subject)return;if(subject.href){if(!event.ctrlKey&&!event.shiftKey&&!event.altKey&&!event.metaKey){event.preventDefault();client_router.url=subject.href}}else if(subject.default!==true){event.preventDefault()}debounce(selector,name,subject.debounce,()=>{const data={...subject.data};for(const attribute in subject){if(attribute.startsWith("data-")){const key=camelize(attribute.slice(5));data[key]=subject[attribute]}}if((subject===null||subject===void 0?void 0:subject.bind)!==undefined){const valueName=subject.type==="checkbox"||subject.type==="radio"?"checked":"value";const object=subject.bind.object;const property=subject.bind.property;if(valueName==="checked"){object[property]=event.target[valueName]}else if(object[property]===true||object[property]===false){object[property]=event.target[valueName]==="true"}else if(typeof object[property]==="number"){object[property]=+event.target[valueName]||0}else{object[property]=event.target[valueName]}}if(subject[name]===noop)return;if(Array.isArray(subject[name])){for(const subcallback of subject[name]){executeEvent(subcallback,subject,event,data)}}else{executeEvent(subject[name],subject,event,data)}})}};;const refMap=new WeakMap;function setup(attributes,element){const object=attributes.ref.object;const property=attributes.ref.property;if(typeof object[property]==="function"){setTimeout(()=>{object[property]({...attributes,element})},0)}else{object[property]=element}const map=refMap.get(attributes.ref.object)||{};map[attributes.ref.property]=true;refMap.set(attributes.ref.object,map)}function ref1(attributes,element){if(!(attributes===null||attributes===void 0?void 0:attributes.ref))return;setup(attributes,element)}function reref(attributes,element){const map=refMap.get(attributes.ref.object);if(map===null||map===void 0?void 0:map[attributes.ref.property])return;setup(attributes,element)};const generateTruthyString_seed=Object.freeze([]);function generateTruthyString(elements){return generateTruthyString_seed.concat(...elements).filter(Boolean).join(" ")};;function render(node,options){if(isFalse(node)||node.type==="head"){node.element=document.createComment("");return node.element}if(isText(node)){node.element=document.createTextNode(node.text);return node.element}const svg=options&&options.svg||node.type==="svg";if(svg){node.element=document.createElementNS("http://www.w3.org/2000/svg",node.type)}else{node.element=document.createElement(node.type)}ref1(node.attributes,node.element);for(let name in node.attributes){if(name==="debounce")continue;if(name==="html"){node.element.innerHTML=node.attributes[name];node.head||anchorableElement(node.element)}else if(name.startsWith("on")){if(node.attributes[name]!==undefined){const eventName=name.substring(2);const callback=generateCallback(node.element,name);node.element.addEventListener(eventName,callback);eventCallbacks.set(node.element,callback);eventSubjects.set(node.element,node.attributes)}}else{let nodeValue;if((name==="class"||name==="style")&&Array.isArray(node.attributes[name])){nodeValue=generateTruthyString(node.attributes[name])}else{nodeValue=node.attributes[name]}const type=typeof nodeValue;if(type!=="object"&&type!=="function"){if(name!="value"&&nodeValue===true){node.element.setAttribute(name,"")}else if(name==="value"||nodeValue!==false&&nodeValue!==null&&nodeValue!==undefined){node.element.setAttribute(name,nodeValue)}}}}if(!node.attributes.html){for(let i=0;i<node.children.length;i++){const child=render(node.children[i],{svg});node.element.appendChild(child)}if(node.type==="select"){node.element.value=node.attributes.value}}return node.element};;function updateAttributes(selector,currentAttributes,nextAttributes){const attributeNames=Object.keys({...currentAttributes,...nextAttributes});for(const name of attributeNames){var ref;if(name==="debounce")continue;if(name==="ref"&&(nextAttributes===null||nextAttributes===void 0?void 0:(ref=nextAttributes.ref)===null||ref===void 0?void 0:ref.property)){reref(nextAttributes,selector)}else if(name==="html"){if(nextAttributes[name]!==currentAttributes[name]){selector.innerHTML=nextAttributes[name];anchorableElement(selector)}}else if(name==="checked"||name==="value"){if(nextAttributes[name]!==currentAttributes[name]&&nextAttributes[name]!==selector[name]){selector[name]=nextAttributes[name]}}else if(name.startsWith("on")){const eventName=name.substring(2);if(eventCallbacks.has(selector)&&!nextAttributes[name]){selector.removeEventListener(eventName,eventCallbacks.get(selector))}if(nextAttributes[name]){if(!eventCallbacks.has(selector)){const callback=generateCallback(selector,name);selector.addEventListener(eventName,callback);eventCallbacks.set(selector,callback)}eventSubjects.set(selector,nextAttributes)}}else{let currentValue;if((name==="class"||name==="style")&&Array.isArray(currentAttributes[name])){currentValue=generateTruthyString(currentAttributes[name])}else{currentValue=currentAttributes[name]}let nextValue;if((name==="class"||name==="style")&&Array.isArray(nextAttributes[name])){nextValue=generateTruthyString(nextAttributes[name])}else{nextValue=nextAttributes[name]}const type=typeof nextValue;if(type!=="object"&&type!=="function"){if(currentValue!==undefined&&nextValue===undefined){selector.removeAttribute(name)}else if(currentValue!==nextValue){if(name!="value"&&nextValue===false||nextValue===null||nextValue===undefined){selector.removeAttribute(name)}else if(name!="value"&&nextValue===true){selector.setAttribute(name,"")}else{selector.setAttribute(name,nextValue)}}}}}}function updateHeadChild(current,next){if(isUndefined(current)&&!isUndefined(next)){const nextSelector=render(next);client_client.head.append(nextSelector);return}if(!isUndefined(current)&&isUndefined(next)){current.element.remove();return}next.element=current.element;if(isFalse(current)&&isFalse(next)){return}if(current.type!==next.type){const nextSelector=render(next);current.element.replaceWith(nextSelector);return}updateAttributes(current.element,current.attributes,next.attributes)}function updateHeadChildren(currentChildren,nextChildren){const limit=Math.max(currentChildren.length,nextChildren.length);for(let i=0;i<limit;i++){updateHeadChild(currentChildren[i],nextChildren[i])}}function _rerender(current,next){const selector=current.element;next.element=current.element;if(isFalse(current)&&isFalse(next)){return}if(current.type!==next.type){const nextSelector=render(next);selector.replaceWith(nextSelector);return}if(isText(current)&&isText(next)){if(current.text!==next.text){selector.textContent=next.text}return}if(!next.attributes.html){const limit=Math.max(current.children.length,next.children.length);if(next.children.length>current.children.length){for(let i=0;i<current.children.length;i++){_rerender(current.children[i],next.children[i])}for(let i1=current.children.length;i1<next.children.length;i1++){const nextSelector=render(next.children[i1]);selector.appendChild(nextSelector)}}else if(current.children.length>next.children.length){for(let i=0;i<next.children.length;i++){_rerender(current.children[i],next.children[i])}for(let i2=current.children.length-1;i2>=next.children.length;i2--){selector.childNodes[i2].remove()}}else{for(let i=limit-1;i> -1;i--){_rerender(current.children[i],next.children[i])}}}updateAttributes(selector,current.attributes,next.attributes)}function rerender(){_rerender(client_client.virtualDom,client_client.nextVirtualDom);updateAttributes(client_client.body,client_client.currentBody,client_client.nextBody);updateHeadChildren(client_client.currentHead,client_client.nextHead);client_client.virtualDom=client_client.nextVirtualDom;client_client.nextVirtualDom=null;client_client.currentBody=client_client.nextBody;client_client.nextBody={};client_client.currentHead=client_client.nextHead;client_client.nextHead=[]};;const client={};client.initialized=false;client.initializer=null;client.instances={};client_context.instances=client.instances;client.initiationQueue=[];client.renewalQueue=[];client.hydrationQueue=[];client.realHydrationQueue=[];client.virtualDom={};client.selector=null;client.events={};client.generateContext=generateContext;client.renderQueue=null;client.currentBody={};client.nextBody={};client.currentHead=[];client.nextHead=[];client.head=document.head;client.body=document.body;client.update=async function update(){if(client.initialized){clearInterval(client.renderQueue);client.renderQueue=setTimeout(async()=>{const scope=client;scope.context=client_context;scope.plugins=loadPlugins(scope);client.initialized=false;client.renewalQueue=[];try{client.nextVirtualDom=await generateTree(client.initializer(),scope);rerender();client.processLifecycleQueues()}catch(e){client.skipHotReplacement=true;console.error(e)}},16)}};client.processLifecycleQueues=async function processLifecycleQueues(){if(!client.initialized){client.initialized=true}let shouldUpdate=false;let shouldScroll=client_router._hash;while(client.initiationQueue.length){const instance=client.initiationQueue.shift();instance.initiate&&await instance.initiate();instance.initiated=true;instance.launch&&instance.launch();shouldUpdate=true;if(instance._attributes.route&&shouldScroll){const element=document.getElementById(client_router._hash);if(element){element.scrollIntoView({behavior:"smooth"})}shouldScroll=false}}shouldUpdate&&client.update();shouldUpdate=false;while(client.realHydrationQueue.length){shouldUpdate=true;const instance=client.realHydrationQueue.shift();instance.hydrate&&await instance.hydrate();instance.hydrated=true}shouldUpdate&&client.update();shouldUpdate=false;while(client.hydrationQueue.length){shouldUpdate=true;const instance=client.hydrationQueue.shift();client.realHydrationQueue.push(instance)}shouldUpdate&&client.update();for(const key in client.instances){const instance=client.instances[key];if(!client.renewalQueue.includes(instance)&&!instance.terminated){instance.terminate&&await instance.terminate();if(instance.persistent){instance.terminated=true}else{delete client.instances[key]}}}client_router._changed=false};const client_client=client;const instanceProxies=new WeakMap;const instanceProxyHandler={get(target,name){var ref;if(name==="_isProxy")return true;if(((ref=target.constructor[name])===null||ref===void 0?void 0:ref.name)==="_invoke")return target.constructor[name].bind(target.constructor);if(typeof target[name]==="function"&&name!=="constructor"){const proxy=instanceProxies.get(target);if(name.startsWith("_")){return target[name].bind(proxy)}const{[name]:named}={[name]:args=>{const context=generateContext({...target._attributes,...args});return target[name].call(proxy,context)}};return named}return Reflect.get(...arguments)},set(target,name,value){if(!name.startsWith("_")){target[name]=generateObjectProxy(name,value);client_client.update()}else{target[name]=value}return true}};const client_instanceProxyHandler=instanceProxyHandler;const prefix1="nullstack";const shared_prefix=prefix1;function invoke(name,hash){return async function _invoke(params={}){var ref;let payload;client_worker.fetching=true;if(Object.isFrozen(client_worker.queues[name])){client_worker.queues[name]=[params]}else{client_worker.queues[name]=[...client_worker.queues[name],params]}const finalHash=hash===this.hash?hash:`${hash}-${this.hash}`;let url=`${client_worker.api}/${shared_prefix}/${finalHash}/${name}.json`;let body=JSON.stringify(params||{});const options={headers:client_worker.headers,mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"no-referrer"};if(/get[A-Z]([*]*)/.test(name)){options.method="GET";url+=`?payload=${encodeURIComponent(body)}`}else{options.body=body;if(/patch[A-Z]([*]*)/.test(name)){options.method="PATCH"}else if(/put[A-Z]([*]*)/.test(name)){options.method="PUT"}else if(/delete[A-Z]([*]*)/.test(name)){options.method="DELETE"}else{options.method="POST"}}try{const response=await fetch(url,options);client_page.status=response.status;const text=await response.text();payload=deserialize(text).result;client_worker.responsive=true}catch(e){client_worker.responsive=false}if(((ref=client_worker.queues[name])===null||ref===void 0?void 0:ref.length)===1){delete client_worker.queues[name]}else{client_worker.queues[name]=client_worker.queues[name].filter(task=>task!==params)}client_worker.fetching=!!Object.keys(client_worker.queues).length;return payload}};;const project1={...client_state.project};delete client_state.project;Object.freeze(project1);const client_project=project1;let pool=[];function hydrateBody(selector,node){var ref2;if(node===null||node===void 0?void 0:(ref2=node.attributes)===null||ref2===void 0?void 0:ref2.html){anchorableElement(selector)}node.element=selector;ref1(node.attributes,selector);for(const element of selector.childNodes){if((element.tagName==="TEXTAREA"||element.tagName==="textarea")&&element.childNodes.length===0){element.appendChild(document.createTextNode(""))}else if(element.COMMENT_NODE===8&&element.textContent==="#"){pool.push(element.remove())}}if(!node.children)return;const limit=node.children.length;for(let i=limit-1;i> -1;i--){var ref11;if(node.type!=="head"&& typeof(selector===null||selector===void 0?void 0:(ref11=selector.childNodes)===null||ref11===void 0?void 0:ref11[i])==="undefined"){console.error(`${node.type.toUpperCase()} expected tag ${node.children[i].type.toUpperCase()} to be child at index ${i} but instead found undefined. This error usually happens because of an invalid HTML hierarchy or changes in comparisons after serialization.`,selector);throw new Error("Virtual DOM does not match the DOM.")}hydrateBody(selector.childNodes[i],node.children[i])}}function hydrateHead(){for(const node of client_client.nextHead){if(isFalse(node)){node.element=pool.pop()||document.createComment("");client_client.head.append(node.element)}else{node.element=document.getElementById(node.attributes.id)}}pool=null}function hydrate(selector,node){hydrateBody(selector,node);hydrateHead()};;const settings={...client_state.settings};delete client_state.settings;Object.freeze(settings);const client_settings=settings;const klassMap={};const client_klassMap=null&&klassMap;function client_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}client_context.page=client_page;client_context.router=client_router;client_context.settings=client_settings;client_context.worker=client_worker;client_context.params=client_params;client_context.project=client_project;client_context.environment=client_state.environment;client_client.memory=client_state.instances;const scope1=client_client;scope1.generateContext=generateContext;scope1.context=client_context;client_client.plugins=loadPlugins(scope1);class Nullstack{static start(Starter){setTimeout(async()=>{window.addEventListener("popstate",()=>{client_router._popState()});if(client_client.initializer){client_client.initializer=()=>element_element(Starter);client_client.update();return this.context}client_client.routes={};updateParams(client_router.url);client_client.currentInstance=null;client_client.initializer=()=>element_element(Starter);client_client.selector=document.getElementById("application");if(client_environment.mode==="spa"){scope1.plugins=loadPlugins(scope1);client_worker.online=navigator.onLine;typeof client_context.start==="function"&&await client_context.start(client_context);client_context.environment=client_environment;client_client.virtualDom=await generateTree(client_client.initializer(),scope1);const body=render(client_client.virtualDom);client_client.selector.replaceWith(body);client_client.selector=body}else{client_client.virtualDom=await generateTree(client_client.initializer(),scope1);hydrate(client_client.selector,client_client.virtualDom);client_client.currentBody=client_client.nextBody;client_client.currentHead=client_client.nextHead;client_client.nextBody={};client_client.nextHead=[];client_context.environment=client_environment;scope1.plugins=loadPlugins(scope1);client_worker.online=navigator.onLine;typeof client_context.start==="function"&&await client_context.start(client_context);client_client.nextVirtualDom=await generateTree(client_client.initializer(),scope1);rerender()}client_client.processLifecycleQueues();delete client_state.context},0);return this.context}render(){return false}constructor(){client_defineProperty(this,"prerendered",false);client_defineProperty(this,"initiated",false);client_defineProperty(this,"hydrated",false);client_defineProperty(this,"terminated",false);client_defineProperty(this,"key",null);const proxy=new Proxy(this,client_instanceProxyHandler);instanceProxies.set(this,proxy);return proxy}}client_defineProperty(Nullstack,"element",element_element);client_defineProperty(Nullstack,"invoke",invoke);client_defineProperty(Nullstack,"fragment",fragment);client_defineProperty(Nullstack,"use",useClientPlugins);client_defineProperty(Nullstack,"klassMap",{});client_defineProperty(Nullstack,"context",generateContext({}));if(false){};const nullstack=Nullstack;function Application_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}function syntaxHighlight(json){if(typeof json!="string"){json=JSON.stringify(json,undefined,2)}json=json.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(match){var cls="number";if(/^"/.test(match)){if(/:$/.test(match)){cls="key"}else{cls="string"}}else if(/true|false/.test(match)){cls="boolean"}else if(/null/.test(match)){cls="null"}return'<span class="'+cls+'">'+match+"</span>"})}class Application extends nullstack{prepare({page}){page.locale="pt-BR"}async handleResetDb({_models}){_models.fazenda.initDatabase({force:true});console.log(await _models.fazenda.getById({id:"a329833a-0a5f-4b9c-b8f8-67e70a07ea6b"}))}async listAll({_models}){this.list=await _models.fazenda.list()}async updateItem({_models}){await _models.fazenda.upsert({id:this.id,data:{nome:this.nome,produtor:this.produtor,local:this.local}})}async delete({_models}){await _models.fazenda.delete({id:this.id})}async add({_models}){await _models.fazenda.create({data:{nome:this.nome,produtor:this.produtor,local:this.local}})}async getItem({_models}){const me=await _models.fazenda.getById({id:this.id});this.nome=me.nome;this.produtor=me.produtor;this.local=me.local}clean(){this.id="";this.nome="";this.produtor="";this.local=""}renderHead(){return nullstack.element("head",null,nullstack.element("link",{href:"https://fonts.gstatic.com",rel:"preconnect"}),nullstack.element("link",{href:"https://fonts.googleapis.com/css2?family=Crete+Round&family=Roboto&display=swap",rel:"stylesheet"}))}render(){const Head=this.renderHead;return nullstack.element("main",null,nullstack.element(Head,null),nullstack.element("button",{source:this,onclick:this.handleResetDb}," Reset DB"),nullstack.element("button",{source:this,onclick:this.add}," Add Item"),nullstack.element("button",{source:this,onclick:this.updateItem}," Update Item"),nullstack.element("button",{source:this,onclick:this.getItem}," Get Item"),nullstack.element("button",{source:this,onclick:this.clean},"Clean"),nullstack.element("button",{source:this,onclick:this.delete},"Delete"),nullstack.element("input",{type:"text",bind:{object:this,property:"id"},placeholder:"ID"}),nullstack.element("br",null),nullstack.element("input",{type:"text",bind:{object:this,property:"nome"},placeholder:"NOME"}),nullstack.element("br",null),nullstack.element("input",{type:"text",bind:{object:this,property:"produtor"},placeholder:"PRODUTOR"}),nullstack.element("br",null),nullstack.element("input",{type:"text",bind:{object:this,property:"local"},placeholder:"LOCAL"}),nullstack.element("button",{source:this,onclick:this.listAll},"List All"),nullstack.element("pre",{html:syntaxHighlight(this.list)}))}constructor(...args){super(...args);this.id="";this.nome="";this.produtor="";this.local="";this.list=null}}Application_defineProperty(Application,"hash","ea4a5e2f6aaf5d4412e3db9f2f6540cf");const src_Application=Application;if(false){};function checkReady(){if(typeof process==="undefined"){var win_1=typeof window!=="undefined"?window:{};var DEVICE_READY_TIMEOUT_1=5e3;var before_1=Date.now();var didFireReady_1=false;win_1.document.addEventListener("deviceready",function(){console.log("Ionic Native: deviceready event fired after "+(Date.now()-before_1)+" ms");didFireReady_1=true});setTimeout(function(){if(!didFireReady_1&&win_1.cordova){console.warn("Ionic Native: deviceready did not fire within "+DEVICE_READY_TIMEOUT_1+"ms. This can happen when plugins are in an inconsistent state. Try removing plugins from plugins/ and reinstalling them.")}},DEVICE_READY_TIMEOUT_1)}};var extendStatics1=function(d1,b1){extendStatics1=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics1(d1,b1)};function __extends(d,b){if(typeof b!=="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics1(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}var __assign=function(){__assign=Object.assign||function __assign(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p]}return t};return __assign.apply(this,arguments)};function __rest(s,e){var t={};for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0)t[p]=s[p];if(s!=null&& typeof Object.getOwnPropertySymbols==="function")for(var i=0,p=Object.getOwnPropertySymbols(s);i<p.length;i++){if(e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i]))t[p[i]]=s[p[i]]}return t}function __decorate(decorators,target,key,desc){var c=arguments.length,r=c<3?target:desc===null?desc=Object.getOwnPropertyDescriptor(target,key):desc,d;if(typeof Reflect==="object"&& typeof Reflect.decorate==="function")r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)if(d=decorators[i])r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r;return c>3&&r&&Object.defineProperty(target,key,r),r}function __param(paramIndex,decorator){return function(target,key){decorator(target,key,paramIndex)}}function __metadata(metadataKey,metadataValue){if(typeof Reflect==="object"&& typeof Reflect.metadata==="function")return Reflect.metadata(metadataKey,metadataValue)}function __awaiter(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator["throw"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})}function __generator(thisArg,body){var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),"throw":verb(1),"return":verb(2)},typeof Symbol==="function"&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError("Generator is already executing.");while(_)try{if(f=1,y&&(t=op[0]&2?y["return"]:op[0]?y["throw"]||((t=y["return"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:_.label++;return{value:op[1],done:false};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=t.length>0&&t[t.length-1])&&(op[0]===6||op[0]===2)){_=0;continue}if(op[0]===3&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(op[0]===6&&_.label<t[1]){_.label=t[1];t=op;break}if(t&&_.label<t[2]){_.label=t[2];_.ops.push(op);break}if(t[2])_.ops.pop();_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e];y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:true}}}var __createBinding=Object.create?function(o,m,k,k2){if(k2===undefined)k2=k;var desc=Object.getOwnPropertyDescriptor(m,k);if(!desc||("get"in desc?!m.__esModule:desc.writable||desc.configurable)){desc={enumerable:true,get:function(){return m[k]}}}Object.defineProperty(o,k2,desc)}:function(o,m,k,k2){if(k2===undefined)k2=k;o[k2]=m[k]};function __exportStar(m,o){for(var p in m)if(p!=="default"&&!Object.prototype.hasOwnProperty.call(o,p))__createBinding(o,m,p)}function __values(o){var s=typeof Symbol==="function"&&Symbol.iterator,m=s&&o[s],i=0;if(m)return m.call(o);if(o&& typeof o.length==="number")return{next:function(){if(o&&i>=o.length)o=void 0;return{value:o&&o[i++],done:!o}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(o,n){var m=typeof Symbol==="function"&&o[Symbol.iterator];if(!m)return o;var i=m.call(o),r,ar=[],e;try{while((n===void 0||n-- >0)&&!(r=i.next()).done)ar.push(r.value)}catch(error){e={error:error}}finally{try{if(r&&!r.done&&(m=i["return"]))m.call(i)}finally{if(e)throw e.error}}return ar}function __spread(){for(var ar=[],i=0;i<arguments.length;i++)ar=ar.concat(__read(arguments[i]));return ar}function __spreadArrays(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;for(var r=Array(s),k=0,i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r}function __spreadArray(to,from,pack){if(pack||arguments.length===2)for(var i=0,l=from.length,ar;i<l;i++){if(ar||!(i in from)){if(!ar)ar=Array.prototype.slice.call(from,0,i);ar[i]=from[i]}}return to.concat(ar||Array.prototype.slice.call(from))}function __await(v){return this instanceof __await?(this.v=v,this):new __await(v)}function __asyncGenerator(thisArg,_arguments,generator){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=generator.apply(thisArg,_arguments||[]),i,q=[];return i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i;function verb(n){if(g[n])i[n]=function(v){return new Promise(function(a,b){q.push([n,v,a,b])>1||resume(n,v)})}}function resume(n,v){try{step(g[n](v))}catch(e){settle(q[0][3],e)}}function step(r){r.value instanceof __await?Promise.resolve(r.value.v).then(fulfill,reject):settle(q[0][2],r)}function fulfill(value){resume("next",value)}function reject(value){resume("throw",value)}function settle(f,v){if(f(v),q.shift(),q.length)resume(q[0][0],q[0][1])}}function __asyncDelegator(o){var i,p;return i={},verb("next"),verb("throw",function(e){throw e}),verb("return"),i[Symbol.iterator]=function(){return this},i;function verb(n,f){i[n]=o[n]?function(v){return(p=!p)?{value:__await(o[n](v)),done:n==="return"}:f?f(v):v}:f}}function __asyncValues(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var m=o[Symbol.asyncIterator],i;return m?m.call(o):(o=typeof __values==="function"?__values(o):o[Symbol.iterator](),i={},verb("next"),verb("throw"),verb("return"),i[Symbol.asyncIterator]=function(){return this},i);function verb(n){i[n]=o[n]&&function(v){return new Promise(function(resolve,reject){v=o[n](v),settle(resolve,reject,v.done,v.value)})}}function settle(resolve,reject,d,v1){Promise.resolve(v1).then(function(v){resolve({value:v,done:d})},reject)}}function __makeTemplateObject(cooked,raw){if(Object.defineProperty){Object.defineProperty(cooked,"raw",{value:raw})}else{cooked.raw=raw}return cooked};var __setModuleDefault=Object.create?function(o,v){Object.defineProperty(o,"default",{enumerable:true,value:v})}:function(o,v){o["default"]=v};function __importStar(mod){if(mod&&mod.__esModule)return mod;var result={};if(mod!=null){for(var k in mod)if(k!=="default"&&Object.prototype.hasOwnProperty.call(mod,k))__createBinding(result,mod,k)}__setModuleDefault(result,mod);return result}function __importDefault(mod){return mod&&mod.__esModule?mod:{default:mod}}function __classPrivateFieldGet(receiver,state,kind,f){if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof state==="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot read private member from an object whose class did not declare it");return kind==="m"?f:kind==="a"?f.call(receiver):f?f.value:state.get(receiver)}function __classPrivateFieldSet(receiver,state,value,kind,f){if(kind==="m")throw new TypeError("Private method is not writable");if(kind==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof state==="function"?receiver!==state||!f:!state.has(receiver))throw new TypeError("Cannot write private member to an object whose class did not declare it");return kind==="a"?f.call(receiver,value):f?f.value=value:state.set(receiver,value),value}function __classPrivateFieldIn(state,receiver){if(receiver===null|| typeof receiver!=="object"&& typeof receiver!=="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof state==="function"?receiver===state:state.has(receiver)};function isFunction_isFunction(value){return typeof value==="function"};function createErrorClass(createImpl){var _super=function(instance){Error.call(instance);instance.stack=new Error().stack};var ctorFunc=createImpl(_super);ctorFunc.prototype=Object.create(Error.prototype);ctorFunc.prototype.constructor=ctorFunc;return ctorFunc};var UnsubscriptionError=createErrorClass(function(_super){return function UnsubscriptionErrorImpl(errors){_super(this);this.message=errors?errors.length+" errors occurred during unsubscription:\n"+errors.map(function(err,i){return i+1+") "+err.toString()}).join("\n  "):"";this.name="UnsubscriptionError";this.errors=errors}});function arrRemove(arr,item){if(arr){var index=arr.indexOf(item);0<=index&&arr.splice(index,1)}};var Subscription=function(){function Subscription1(initialTeardown){this.initialTeardown=initialTeardown;this.closed=false;this._parentage=null;this._finalizers=null}Subscription1.prototype.unsubscribe=function(){var e_1,_a,e_2,_b;var errors;if(!this.closed){this.closed=true;var _parentage=this._parentage;if(_parentage){this._parentage=null;if(Array.isArray(_parentage)){try{for(var _parentage_1=__values(_parentage),_parentage_1_1=_parentage_1.next();!_parentage_1_1.done;_parentage_1_1=_parentage_1.next()){var parent_1=_parentage_1_1.value;parent_1.remove(this)}}catch(e_1_1){e_1={error:e_1_1}}finally{try{if(_parentage_1_1&&!_parentage_1_1.done&&(_a=_parentage_1.return))_a.call(_parentage_1)}finally{if(e_1)throw e_1.error}}}else{_parentage.remove(this)}}var initialFinalizer=this.initialTeardown;if(isFunction_isFunction(initialFinalizer)){try{initialFinalizer()}catch(e){errors=e instanceof UnsubscriptionError?e.errors:[e]}}var _finalizers=this._finalizers;if(_finalizers){this._finalizers=null;try{for(var _finalizers_1=__values(_finalizers),_finalizers_1_1=_finalizers_1.next();!_finalizers_1_1.done;_finalizers_1_1=_finalizers_1.next()){var finalizer=_finalizers_1_1.value;try{execFinalizer(finalizer)}catch(err){errors=errors!==null&&errors!==void 0?errors:[];if(err instanceof UnsubscriptionError){errors=__spreadArray(__spreadArray([],__read(errors)),__read(err.errors))}else{errors.push(err)}}}}catch(e_2_1){e_2={error:e_2_1}}finally{try{if(_finalizers_1_1&&!_finalizers_1_1.done&&(_b=_finalizers_1.return))_b.call(_finalizers_1)}finally{if(e_2)throw e_2.error}}}if(errors){throw new UnsubscriptionError(errors)}}};Subscription1.prototype.add=function(teardown){var _a;if(teardown&&teardown!==this){if(this.closed){execFinalizer(teardown)}else{if(teardown instanceof Subscription1){if(teardown.closed||teardown._hasParent(this)){return}teardown._addParent(this)}(this._finalizers=(_a=this._finalizers)!==null&&_a!==void 0?_a:[]).push(teardown)}}};Subscription1.prototype._hasParent=function(parent){var _parentage=this._parentage;return _parentage===parent||Array.isArray(_parentage)&&_parentage.includes(parent)};Subscription1.prototype._addParent=function(parent){var _parentage=this._parentage;this._parentage=Array.isArray(_parentage)?(_parentage.push(parent),_parentage):_parentage?[_parentage,parent]:parent};Subscription1.prototype._removeParent=function(parent){var _parentage=this._parentage;if(_parentage===parent){this._parentage=null}else if(Array.isArray(_parentage)){arrRemove(_parentage,parent)}};Subscription1.prototype.remove=function(teardown){var _finalizers=this._finalizers;_finalizers&&arrRemove(_finalizers,teardown);if(teardown instanceof Subscription1){teardown._removeParent(this)}};Subscription1.EMPTY=function(){var empty=new Subscription1;empty.closed=true;return empty}();return Subscription1}();var EMPTY_SUBSCRIPTION=Subscription.EMPTY;function isSubscription(value){return value instanceof Subscription||value&&"closed"in value&&isFunction_isFunction(value.remove)&&isFunction_isFunction(value.add)&&isFunction_isFunction(value.unsubscribe)}function execFinalizer(finalizer){if(isFunction_isFunction(finalizer)){finalizer()}else{finalizer.unsubscribe()}};var config1={onUnhandledError:null,onStoppedNotification:null,Promise:undefined,useDeprecatedSynchronousErrorHandling:false,useDeprecatedNextContext:false};var timeoutProvider={setTimeout:function(handler,timeout){var args=[];for(var _i=2;_i<arguments.length;_i++){args[_i-2]=arguments[_i]}var delegate=timeoutProvider.delegate;if(delegate===null||delegate===void 0?void 0:delegate.setTimeout){return delegate.setTimeout.apply(delegate,__spreadArray([handler,timeout],__read(args)))}return setTimeout.apply(void 0,__spreadArray([handler,timeout],__read(args)))},clearTimeout:function(handle){var delegate=timeoutProvider.delegate;return((delegate===null||delegate===void 0?void 0:delegate.clearTimeout)||clearTimeout)(handle)},delegate:undefined};function reportUnhandledError(err){timeoutProvider.setTimeout(function(){var onUnhandledError=config1.onUnhandledError;if(onUnhandledError){onUnhandledError(err)}else{throw err}})};function noop_noop(){};var COMPLETE_NOTIFICATION=function(){return createNotification("C",undefined,undefined)}();function errorNotification(error){return createNotification("E",undefined,error)}function nextNotification(value){return createNotification("N",value,undefined)}function createNotification(kind,value,error){return{kind:kind,value:value,error:error}};var errorContext_context=null;function errorContext(cb){if(config1.useDeprecatedSynchronousErrorHandling){var isRoot=!errorContext_context;if(isRoot){errorContext_context={errorThrown:false,error:null}}cb();if(isRoot){var _a=errorContext_context,errorThrown=_a.errorThrown,error=_a.error;errorContext_context=null;if(errorThrown){throw error}}}else{cb()}}function captureError(err){if(config1.useDeprecatedSynchronousErrorHandling&&errorContext_context){errorContext_context.errorThrown=true;errorContext_context.error=err}};var Subscriber=function(_super){__extends(Subscriber1,_super);function Subscriber1(destination){var _this=_super.call(this)||this;_this.isStopped=false;if(destination){_this.destination=destination;if(isSubscription(destination)){destination.add(_this)}}else{_this.destination=EMPTY_OBSERVER}return _this}Subscriber1.create=function(next,error,complete){return new SafeSubscriber(next,error,complete)};Subscriber1.prototype.next=function(value){if(this.isStopped){handleStoppedNotification(nextNotification(value),this)}else{this._next(value)}};Subscriber1.prototype.error=function(err){if(this.isStopped){handleStoppedNotification(errorNotification(err),this)}else{this.isStopped=true;this._error(err)}};Subscriber1.prototype.complete=function(){if(this.isStopped){handleStoppedNotification(COMPLETE_NOTIFICATION,this)}else{this.isStopped=true;this._complete()}};Subscriber1.prototype.unsubscribe=function(){if(!this.closed){this.isStopped=true;_super.prototype.unsubscribe.call(this);this.destination=null}};Subscriber1.prototype._next=function(value){this.destination.next(value)};Subscriber1.prototype._error=function(err){try{this.destination.error(err)}finally{this.unsubscribe()}};Subscriber1.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}};return Subscriber1}(Subscription);var _bind=Function.prototype.bind;function bind(fn,thisArg){return _bind.call(fn,thisArg)}var ConsumerObserver=function(){function ConsumerObserver1(partialObserver){this.partialObserver=partialObserver}ConsumerObserver1.prototype.next=function(value){var partialObserver=this.partialObserver;if(partialObserver.next){try{partialObserver.next(value)}catch(error){handleUnhandledError(error)}}};ConsumerObserver1.prototype.error=function(err){var partialObserver=this.partialObserver;if(partialObserver.error){try{partialObserver.error(err)}catch(error){handleUnhandledError(error)}}else{handleUnhandledError(err)}};ConsumerObserver1.prototype.complete=function(){var partialObserver=this.partialObserver;if(partialObserver.complete){try{partialObserver.complete()}catch(error){handleUnhandledError(error)}}};return ConsumerObserver1}();var SafeSubscriber=function(_super){__extends(SafeSubscriber1,_super);function SafeSubscriber1(observerOrNext,error,complete){var _this=_super.call(this)||this;var partialObserver;if(isFunction_isFunction(observerOrNext)||!observerOrNext){partialObserver={next:observerOrNext!==null&&observerOrNext!==void 0?observerOrNext:undefined,error:error!==null&&error!==void 0?error:undefined,complete:complete!==null&&complete!==void 0?complete:undefined}}else{var context_1;if(_this&&config1.useDeprecatedNextContext){context_1=Object.create(observerOrNext);context_1.unsubscribe=function(){return _this.unsubscribe()};partialObserver={next:observerOrNext.next&&bind(observerOrNext.next,context_1),error:observerOrNext.error&&bind(observerOrNext.error,context_1),complete:observerOrNext.complete&&bind(observerOrNext.complete,context_1)}}else{partialObserver=observerOrNext}}_this.destination=new ConsumerObserver(partialObserver);return _this}return SafeSubscriber1}(Subscriber);function handleUnhandledError(error){if(config1.useDeprecatedSynchronousErrorHandling){captureError(error)}else{reportUnhandledError(error)}}function defaultErrorHandler(err){throw err}function handleStoppedNotification(notification,subscriber){var onStoppedNotification=config1.onStoppedNotification;onStoppedNotification&&timeoutProvider.setTimeout(function(){return onStoppedNotification(notification,subscriber)})}var EMPTY_OBSERVER={closed:true,next:noop_noop,error:defaultErrorHandler,complete:noop_noop};var observable1=function(){return typeof Symbol==="function"&&Symbol.observable||"@@observable"}();function identity(x){return x};function pipe(){var fns=[];for(var _i=0;_i<arguments.length;_i++){fns[_i]=arguments[_i]}return pipeFromArray(fns)}function pipeFromArray(fns){if(fns.length===0){return identity}if(fns.length===1){return fns[0]}return function piped(input){return fns.reduce(function(prev,fn){return fn(prev)},input)}};var Observable_Observable=function(){function Observable1(subscribe){if(subscribe){this._subscribe=subscribe}}Observable1.prototype.lift=function(operator){var observable=new Observable1;observable.source=this;observable.operator=operator;return observable};Observable1.prototype.subscribe=function(observerOrNext,error,complete){var _this=this;var subscriber=isSubscriber(observerOrNext)?observerOrNext:new SafeSubscriber(observerOrNext,error,complete);errorContext(function(){var _a=_this,operator=_a.operator,source=_a.source;subscriber.add(operator?operator.call(subscriber,source):source?_this._subscribe(subscriber):_this._trySubscribe(subscriber))});return subscriber};Observable1.prototype._trySubscribe=function(sink){try{return this._subscribe(sink)}catch(err){sink.error(err)}};Observable1.prototype.forEach=function(next,promiseCtor){var _this=this;promiseCtor=getPromiseCtor(promiseCtor);return new promiseCtor(function(resolve,reject){var subscriber=new SafeSubscriber({next:function(value){try{next(value)}catch(err){reject(err);subscriber.unsubscribe()}},error:reject,complete:resolve});_this.subscribe(subscriber)})};Observable1.prototype._subscribe=function(subscriber){var _a;return(_a=this.source)===null||_a===void 0?void 0:_a.subscribe(subscriber)};Observable1.prototype[observable1]=function(){return this};Observable1.prototype.pipe=function(){var operations=[];for(var _i=0;_i<arguments.length;_i++){operations[_i]=arguments[_i]}return pipeFromArray(operations)(this)};Observable1.prototype.toPromise=function(promiseCtor){var _this=this;promiseCtor=getPromiseCtor(promiseCtor);return new promiseCtor(function(resolve,reject){var value;_this.subscribe(function(x){return value=x},function(err){return reject(err)},function(){return resolve(value)})})};Observable1.create=function(subscribe){return new Observable1(subscribe)};return Observable1}();function getPromiseCtor(promiseCtor){var _a;return(_a=promiseCtor!==null&&promiseCtor!==void 0?promiseCtor:config1.Promise)!==null&&_a!==void 0?_a:Promise}function isObserver(value){return value&&isFunction_isFunction(value.next)&&isFunction_isFunction(value.error)&&isFunction_isFunction(value.complete)}function isSubscriber(value){return value&&value instanceof Subscriber||isObserver(value)&&isSubscription(value)};var isArrayLike=function(x){return x&& typeof x.length==="number"&& typeof x!=="function"};function isPromise(value){return isFunction_isFunction(value===null||value===void 0?void 0:value.then)};function isInteropObservable(input){return isFunction_isFunction(input[observable1])};function isAsyncIterable(obj){return Symbol.asyncIterator&&isFunction_isFunction(obj===null||obj===void 0?void 0:obj[Symbol.asyncIterator])};function createInvalidObservableTypeError(input){return new TypeError("You provided "+(input!==null&& typeof input==="object"?"an invalid object":"'"+input+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")};function getSymbolIterator(){if(typeof Symbol!=="function"||!Symbol.iterator){return"@@iterator"}return Symbol.iterator}var iterator=getSymbolIterator();function isIterable(input){return isFunction_isFunction(input===null||input===void 0?void 0:input[iterator])};function readableStreamLikeToAsyncGenerator(readableStream){return __asyncGenerator(this,arguments,function readableStreamLikeToAsyncGenerator_1(){var reader,_a,value,done;return __generator(this,function(_b){switch(_b.label){case 0:reader=readableStream.getReader();_b.label=1;case 1:_b.trys.push([1,,9,10]);_b.label=2;case 2:if(false){}return[4,__await(reader.read())];case 3:_a=_b.sent(),value=_a.value,done=_a.done;if(!done)return[3,5];return[4,__await(void 0)];case 4:return[2,_b.sent()];case 5:return[4,__await(value)];case 6:return[4,_b.sent()];case 7:_b.sent();return[3,2];case 8:return[3,10];case 9:reader.releaseLock();return[7];case 10:return[2]}})})}function isReadableStreamLike(obj){return isFunction_isFunction(obj===null||obj===void 0?void 0:obj.getReader)};function innerFrom(input){if(input instanceof Observable_Observable){return input}if(input!=null){if(isInteropObservable(input)){return fromInteropObservable(input)}if(isArrayLike(input)){return fromArrayLike(input)}if(isPromise(input)){return fromPromise(input)}if(isAsyncIterable(input)){return fromAsyncIterable(input)}if(isIterable(input)){return fromIterable(input)}if(isReadableStreamLike(input)){return fromReadableStreamLike(input)}}throw createInvalidObservableTypeError(input)}function fromInteropObservable(obj){return new Observable_Observable(function(subscriber){var obs=obj[observable1]();if(isFunction_isFunction(obs.subscribe)){return obs.subscribe(subscriber)}throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fromArrayLike(array){return new Observable_Observable(function(subscriber){for(var i=0;i<array.length&&!subscriber.closed;i++){subscriber.next(array[i])}subscriber.complete()})}function fromPromise(promise){return new Observable_Observable(function(subscriber){promise.then(function(value){if(!subscriber.closed){subscriber.next(value);subscriber.complete()}},function(err){return subscriber.error(err)}).then(null,reportUnhandledError)})}function fromIterable(iterable){return new Observable_Observable(function(subscriber){var e_1,_a;try{for(var iterable_1=__values(iterable),iterable_1_1=iterable_1.next();!iterable_1_1.done;iterable_1_1=iterable_1.next()){var value=iterable_1_1.value;subscriber.next(value);if(subscriber.closed){return}}}catch(e_1_1){e_1={error:e_1_1}}finally{try{if(iterable_1_1&&!iterable_1_1.done&&(_a=iterable_1.return))_a.call(iterable_1)}finally{if(e_1)throw e_1.error}}subscriber.complete()})}function fromAsyncIterable(asyncIterable){return new Observable_Observable(function(subscriber){innerFrom_process(asyncIterable,subscriber).catch(function(err){return subscriber.error(err)})})}function fromReadableStreamLike(readableStream){return fromAsyncIterable(readableStreamLikeToAsyncGenerator(readableStream))}function innerFrom_process(asyncIterable,subscriber){var asyncIterable_1,asyncIterable_1_1;var e_2,_a;return __awaiter(this,void 0,void 0,function(){var value,e_2_1;return __generator(this,function(_b){switch(_b.label){case 0:_b.trys.push([0,5,6,11]);asyncIterable_1=__asyncValues(asyncIterable);_b.label=1;case 1:return[4,asyncIterable_1.next()];case 2:if(!(asyncIterable_1_1=_b.sent(),!asyncIterable_1_1.done))return[3,4];value=asyncIterable_1_1.value;subscriber.next(value);if(subscriber.closed){return[2]}_b.label=3;case 3:return[3,1];case 4:return[3,11];case 5:e_2_1=_b.sent();e_2={error:e_2_1};return[3,11];case 6:_b.trys.push([6,,9,10]);if(!(asyncIterable_1_1&&!asyncIterable_1_1.done&&(_a=asyncIterable_1.return)))return[3,8];return[4,_a.call(asyncIterable_1)];case 7:_b.sent();_b.label=8;case 8:return[3,10];case 9:if(e_2)throw e_2.error;return[7];case 10:return[7];case 11:subscriber.complete();return[2]}})})};function hasLift(source){return isFunction_isFunction(source===null||source===void 0?void 0:source.lift)}function operate(init){return function(source){if(hasLift(source)){return source.lift(function(liftedSource){try{return init(liftedSource,this)}catch(err){this.error(err)}})}throw new TypeError("Unable to lift unknown Observable type")}};function createOperatorSubscriber(destination,onNext,onComplete,onError,onFinalize){return new OperatorSubscriber(destination,onNext,onComplete,onError,onFinalize)}var OperatorSubscriber=function(_super){__extends(OperatorSubscriber1,_super);function OperatorSubscriber1(destination,onNext,onComplete,onError,onFinalize,shouldUnsubscribe){var _this=_super.call(this,destination)||this;_this.onFinalize=onFinalize;_this.shouldUnsubscribe=shouldUnsubscribe;_this._next=onNext?function(value){try{onNext(value)}catch(err){destination.error(err)}}:_super.prototype._next;_this._error=onError?function(err){try{onError(err)}catch(err1){destination.error(err1)}finally{this.unsubscribe()}}:_super.prototype._error;_this._complete=onComplete?function(){try{onComplete()}catch(err){destination.error(err)}finally{this.unsubscribe()}}:_super.prototype._complete;return _this}OperatorSubscriber1.prototype.unsubscribe=function(){var _a;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var closed_1=this.closed;_super.prototype.unsubscribe.call(this);!closed_1&&((_a=this.onFinalize)===null||_a===void 0?void 0:_a.call(this))}};return OperatorSubscriber1}(Subscriber);function map1(project,thisArg){return operate(function(source,subscriber){var index=0;source.subscribe(createOperatorSubscriber(subscriber,function(value){subscriber.next(project.call(thisArg,value,index++))}))})};function executeSchedule(parentSubscription,scheduler,work,delay,repeat){if(delay===void 0){delay=0}if(repeat===void 0){repeat=false}var scheduleSubscription=scheduler.schedule(function(){work();if(repeat){parentSubscription.add(this.schedule(null,delay))}else{this.unsubscribe()}},delay);parentSubscription.add(scheduleSubscription);if(!repeat){return scheduleSubscription}};function mergeInternals(source,subscriber,project,concurrent,onBeforeNext,expand,innerSubScheduler,additionalFinalizer){var buffer=[];var active=0;var index=0;var isComplete=false;var checkComplete=function(){if(isComplete&&!buffer.length&&!active){subscriber.complete()}};var outerNext=function(value){return active<concurrent?doInnerSub(value):buffer.push(value)};var doInnerSub=function(value){expand&&subscriber.next(value);active++;var innerComplete=false;innerFrom(project(value,index++)).subscribe(createOperatorSubscriber(subscriber,function(innerValue){onBeforeNext===null||onBeforeNext===void 0?void 0:onBeforeNext(innerValue);if(expand){outerNext(innerValue)}else{subscriber.next(innerValue)}},function(){innerComplete=true},undefined,function(){if(innerComplete){try{active--;var _loop_1=function(){var bufferedValue=buffer.shift();if(innerSubScheduler){executeSchedule(subscriber,innerSubScheduler,function(){return doInnerSub(bufferedValue)})}else{doInnerSub(bufferedValue)}};while(buffer.length&&active<concurrent){_loop_1()}checkComplete()}catch(err){subscriber.error(err)}}}))};source.subscribe(createOperatorSubscriber(subscriber,outerNext,function(){isComplete=true;checkComplete()}));return function(){additionalFinalizer===null||additionalFinalizer===void 0?void 0:additionalFinalizer()}};function mergeMap(project,resultSelector,concurrent){if(concurrent===void 0){concurrent=Infinity}if(isFunction_isFunction(resultSelector)){return mergeMap(function(a,i){return map1(function(b,ii){return resultSelector(a,b,i,ii)})(innerFrom(project(a,i)))},concurrent)}else if(typeof resultSelector==="number"){concurrent=resultSelector}return operate(function(source,subscriber){return mergeInternals(source,subscriber,project,concurrent)})};var isArray=Array.isArray;function callOrApply(fn,args){return isArray(args)?fn.apply(void 0,__spreadArray([],__read(args))):fn(args)}function mapOneOrManyArgs(fn){return map1(function(args){return callOrApply(fn,args)})};var nodeEventEmitterMethods=["addListener","removeListener"];var eventTargetMethods=["addEventListener","removeEventListener"];var jqueryMethods=["on","off"];function fromEvent(target,eventName,options,resultSelector){if(isFunction_isFunction(options)){resultSelector=options;options=undefined}if(resultSelector){return fromEvent(target,eventName,options).pipe(mapOneOrManyArgs(resultSelector))}var _a=__read(isEventTarget(target)?eventTargetMethods.map(function(methodName){return function(handler){return target[methodName](eventName,handler,options)}}):isNodeStyleEventEmitter(target)?nodeEventEmitterMethods.map(toCommonHandlerRegistry(target,eventName)):isJQueryStyleEventEmitter(target)?jqueryMethods.map(toCommonHandlerRegistry(target,eventName)):[],2),add=_a[0],remove=_a[1];if(!add){if(isArrayLike(target)){return mergeMap(function(subTarget){return fromEvent(subTarget,eventName,options)})(innerFrom(target))}}if(!add){throw new TypeError("Invalid event target")}return new Observable_Observable(function(subscriber){var handler=function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return subscriber.next(1<args.length?args:args[0])};add(handler);return function(){return remove(handler)}})}function toCommonHandlerRegistry(target,eventName){return function(methodName){return function(handler){return target[methodName](eventName,handler)}}}function isNodeStyleEventEmitter(target){return isFunction_isFunction(target.addListener)&&isFunction_isFunction(target.removeListener)}function isJQueryStyleEventEmitter(target){return isFunction_isFunction(target.on)&&isFunction_isFunction(target.off)}function isEventTarget(target){return isFunction_isFunction(target.addEventListener)&&isFunction_isFunction(target.removeEventListener)};var ERR_CORDOVA_NOT_AVAILABLE={error:"cordova_not_available"};var ERR_PLUGIN_NOT_INSTALLED={error:"plugin_not_installed"};function getPromise(callback){var tryNativePromise=function(){if(Promise){return new Promise(function(resolve,reject){callback(resolve,reject)})}else{console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}};if(typeof window!=="undefined"&&window.angular){var doc=window.document;var injector=window.angular.element(doc.querySelector("[ng-app]")||doc.body).injector();if(injector){var $q=injector.get("$q");return $q(function(resolve,reject){callback(resolve,reject)})}console.warn("Angular 1 was detected but $q couldn't be retrieved. This is usually when the app is not bootstrapped on the html or body tag. Falling back to native promises which won't trigger an automatic digest when promises resolve.")}return tryNativePromise()}function wrapPromise(pluginObj,methodName,args1,opts){if(opts===void 0){opts={}}var pluginResult,rej;var p=getPromise(function(resolve,reject){if(opts.destruct){pluginResult=callCordovaPlugin(pluginObj,methodName,args1,opts,function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return resolve(args)},function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return reject(args)})}else{pluginResult=callCordovaPlugin(pluginObj,methodName,args1,opts,resolve,reject)}rej=reject});if(pluginResult&&pluginResult.error){p.catch(function(){});typeof rej==="function"&&rej(pluginResult.error)}return p}function wrapOtherPromise(pluginObj,methodName,args,opts){if(opts===void 0){opts={}}return getPromise(function(resolve,reject){var pluginResult=callCordovaPlugin(pluginObj,methodName,args,opts);if(pluginResult){if(pluginResult.error){reject(pluginResult.error)}else if(pluginResult.then){pluginResult.then(resolve).catch(reject)}}else{reject({error:"unexpected_error"})}})}function wrapObservable(pluginObj,methodName,args2,opts){if(opts===void 0){opts={}}return new Observable_Observable(function(observer){var pluginResult;if(opts.destruct){pluginResult=callCordovaPlugin(pluginObj,methodName,args2,opts,function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return observer.next(args)},function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return observer.error(args)})}else{pluginResult=callCordovaPlugin(pluginObj,methodName,args2,opts,observer.next.bind(observer),observer.error.bind(observer))}if(pluginResult&&pluginResult.error){observer.error(pluginResult.error);observer.complete()}return function(){try{if(opts.clearFunction){if(opts.clearWithArgs){return callCordovaPlugin(pluginObj,opts.clearFunction,args2,opts,observer.next.bind(observer),observer.error.bind(observer))}return callCordovaPlugin(pluginObj,opts.clearFunction,[])}}catch(e){console.warn("Unable to clear the previous observable watch for",pluginObj.constructor.getPluginName(),methodName);console.warn(e)}}})}function wrapEventObservable(event,element){element=typeof window!=="undefined"&&element?get(window,element):element||(typeof window!=="undefined"?window:{});return fromEvent(element,event)}function common_checkAvailability(plugin,methodName,pluginName){var pluginRef,pluginPackage;if(typeof plugin==="string"){pluginRef=plugin}else{pluginRef=plugin.constructor.getPluginRef();pluginName=plugin.constructor.getPluginName();pluginPackage=plugin.constructor.getPluginInstallName()}var pluginInstance=common_getPlugin(pluginRef);if(!pluginInstance|| !!methodName&& typeof pluginInstance[methodName]==="undefined"){if(typeof window==="undefined"||!window.cordova){cordovaWarn(pluginName,methodName);return ERR_CORDOVA_NOT_AVAILABLE}pluginWarn(pluginName,pluginPackage,methodName);return ERR_PLUGIN_NOT_INSTALLED}return true}function instanceAvailability(pluginObj,methodName){return pluginObj._objectInstance&&(!methodName|| typeof pluginObj._objectInstance[methodName]!=="undefined")}function setIndex(args,opts,resolve,reject){if(opts===void 0){opts={}}if(opts.sync){return args}if(opts.callbackOrder==="reverse"){args.unshift(reject);args.unshift(resolve)}else if(opts.callbackStyle==="node"){args.push(function(err,result){if(err){reject(err)}else{resolve(result)}})}else if(opts.callbackStyle==="object"&&opts.successName&&opts.errorName){var obj={};obj[opts.successName]=resolve;obj[opts.errorName]=reject;args.push(obj)}else if(typeof opts.successIndex!=="undefined"|| typeof opts.errorIndex!=="undefined"){var setSuccessIndex=function(){if(opts.successIndex>args.length){args[opts.successIndex]=resolve}else{args.splice(opts.successIndex,0,resolve)}};var setErrorIndex=function(){if(opts.errorIndex>args.length){args[opts.errorIndex]=reject}else{args.splice(opts.errorIndex,0,reject)}};if(opts.successIndex>opts.errorIndex){setErrorIndex();setSuccessIndex()}else{setSuccessIndex();setErrorIndex()}}else{args.push(resolve);args.push(reject)}return args}function callCordovaPlugin(pluginObj,methodName,args,opts,resolve,reject){if(opts===void 0){opts={}}args=setIndex(args,opts,resolve,reject);var availabilityCheck=common_checkAvailability(pluginObj,methodName);if(availabilityCheck===true){var pluginInstance=common_getPlugin(pluginObj.constructor.getPluginRef());return pluginInstance[methodName].apply(pluginInstance,args)}else{return availabilityCheck}}function callInstance(pluginObj,methodName,args,opts,resolve,reject){if(opts===void 0){opts={}}args=setIndex(args,opts,resolve,reject);if(instanceAvailability(pluginObj,methodName)){return pluginObj._objectInstance[methodName].apply(pluginObj._objectInstance,args)}}function common_getPlugin(pluginRef){if(typeof window!=="undefined"){return get(window,pluginRef)}return null}function get(element,path){var paths=path.split(".");var obj=element;for(var i=0;i<paths.length;i++){if(!obj){return null}obj=obj[paths[i]]}return obj}function pluginWarn(pluginName,plugin,method){if(method){console.warn("Native: tried calling "+pluginName+"."+method+", but the "+pluginName+" plugin is not installed.")}else{console.warn("Native: tried accessing the "+pluginName+" plugin but it's not installed.")}if(plugin){console.warn("Install the "+pluginName+" plugin: 'ionic cordova plugin add "+plugin+"'")}}function cordovaWarn(pluginName,method){if(typeof process==="undefined"){if(method){console.warn("Native: tried calling "+pluginName+"."+method+", but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}else{console.warn("Native: tried accessing the "+pluginName+" plugin but Cordova is not available. Make sure to include cordova.js or run in a device/simulator")}}}var wrap=function(pluginObj,methodName,opts){if(opts===void 0){opts={}}return function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}if(opts.sync){return callCordovaPlugin(pluginObj,methodName,args,opts)}else if(opts.observable){return wrapObservable(pluginObj,methodName,args,opts)}else if(opts.eventObservable&&opts.event){return wrapEventObservable(opts.event,opts.element)}else if(opts.otherPromise){return wrapOtherPromise(pluginObj,methodName,args,opts)}else{return wrapPromise(pluginObj,methodName,args,opts)}}};function wrapInstance(pluginObj,methodName,opts){if(opts===void 0){opts={}}return function(){var args3=[];for(var _i1=0;_i1<arguments.length;_i1++){args3[_i1]=arguments[_i1]}if(opts.sync){return callInstance(pluginObj,methodName,args3,opts)}else if(opts.observable){return new Observable_Observable(function(observer){var pluginResult;if(opts.destruct){pluginResult=callInstance(pluginObj,methodName,args3,opts,function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return observer.next(args)},function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return observer.error(args)})}else{pluginResult=callInstance(pluginObj,methodName,args3,opts,observer.next.bind(observer),observer.error.bind(observer))}if(pluginResult&&pluginResult.error){observer.error(pluginResult.error)}return function(){try{if(opts.clearWithArgs){return callInstance(pluginObj,opts.clearFunction,args3,opts,observer.next.bind(observer),observer.error.bind(observer))}return callInstance(pluginObj,opts.clearFunction,[])}catch(e){console.warn("Unable to clear the previous observable watch for",pluginObj.constructor.getPluginName(),methodName);console.warn(e)}}})}else if(opts.otherPromise){return getPromise(function(resolve,reject){var result;if(opts.destruct){result=callInstance(pluginObj,methodName,args3,opts,function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return resolve(args)},function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return reject(args)})}else{result=callInstance(pluginObj,methodName,args3,opts,resolve,reject)}if(result&&result.then){result.then(resolve,reject)}else{reject()}})}else{var pluginResult_1,rej_1;var p=getPromise(function(resolve,reject){if(opts.destruct){pluginResult_1=callInstance(pluginObj,methodName,args3,opts,function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return resolve(args)},function(){var args=[];for(var _i=0;_i<arguments.length;_i++){args[_i]=arguments[_i]}return reject(args)})}else{pluginResult_1=callInstance(pluginObj,methodName,args3,opts,resolve,reject)}rej_1=reject});if(pluginResult_1&&pluginResult_1.error){p.catch(function(){});typeof rej_1==="function"&&rej_1(pluginResult_1.error)}return p}}};function util_get(element,path){var paths=path.split(".");var obj=element;for(var i=0;i<paths.length;i++){if(!obj){return null}obj=obj[paths[i]]}return obj}function util_getPromise(callback){if(callback===void 0){callback=function(){}}var tryNativePromise=function(){if(typeof Promise==="function"|| typeof window!=="undefined"&&window.Promise){return new Promise(function(resolve,reject){callback(resolve,reject)})}else{console.error("No Promise support or polyfill found. To enable Ionic Native support, please add the es6-promise polyfill before this script, or run with a library like Angular or on a recent browser.")}};return tryNativePromise()};var AwesomeCordovaNativePlugin=function(){function AwesomeCordovaNativePlugin1(){}AwesomeCordovaNativePlugin1.installed=function(){var isAvailable=common_checkAvailability(this.pluginRef)===true;return isAvailable};AwesomeCordovaNativePlugin1.getPlugin=function(){if(typeof window!=="undefined"){return util_get(window,this.pluginRef)}return null};AwesomeCordovaNativePlugin1.getPluginName=function(){var pluginName=this.pluginName;return pluginName};AwesomeCordovaNativePlugin1.getPluginRef=function(){var pluginRef=this.pluginRef;return pluginRef};AwesomeCordovaNativePlugin1.getPluginInstallName=function(){var plugin=this.plugin;return plugin};AwesomeCordovaNativePlugin1.getSupportedPlatforms=function(){var platform=this.platforms;return platform};AwesomeCordovaNativePlugin1.pluginName="";AwesomeCordovaNativePlugin1.pluginRef="";AwesomeCordovaNativePlugin1.plugin="";AwesomeCordovaNativePlugin1.repo="";AwesomeCordovaNativePlugin1.platforms=[];AwesomeCordovaNativePlugin1.install="";return AwesomeCordovaNativePlugin1}();function cordova(pluginObj,methodName,config,args){return wrap(pluginObj,methodName,config).apply(this,args)};function overrideFunction(pluginObj,methodName){return new Observable(function(observer){var availabilityCheck=checkAvailability(pluginObj,methodName);if(availabilityCheck===true){var pluginInstance_1=getPlugin(pluginObj.constructor.getPluginRef());pluginInstance_1[methodName]=observer.next.bind(observer);return function(){return pluginInstance_1[methodName]=function(){}}}else{observer.error(availabilityCheck);observer.complete()}})}function cordovaFunctionOverride(pluginObj,methodName,args){if(args===void 0){args=[]}return overrideFunction(pluginObj,methodName)};function cordovaInstance(pluginObj,methodName,config,args){args=Array.from(args);return wrapInstance(pluginObj,methodName,config).apply(this,args)};function cordovaPropertyGet(pluginObj,key){if(checkAvailability(pluginObj,key)===true){return getPlugin(pluginObj.constructor.getPluginRef())[key]}return null}function cordovaPropertySet(pluginObj,key,value){if(checkAvailability(pluginObj,key)===true){getPlugin(pluginObj.constructor.getPluginRef())[key]=value}};function instancePropertyGet(pluginObj,key){if(pluginObj._objectInstance&&pluginObj._objectInstance[key]){return pluginObj._objectInstance[key]}return null}function instancePropertySet(pluginObj,key,value){if(pluginObj._objectInstance){pluginObj._objectInstance[key]=value}};checkReady();var sqlite_extends=undefined&&undefined.__extends||function(){var extendStatics=function(d1,b1){extendStatics=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)if(Object.prototype.hasOwnProperty.call(b,p))d[p]=b[p]};return extendStatics(d1,b1)};return function(d,b){extendStatics(d,b);function __(){this.constructor=d}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __)}}();var SQLiteObject=function(){function SQLiteObject1(_objectInstance){this._objectInstance=_objectInstance}SQLiteObject1.prototype.addTransaction=function(transaction){return cordovaInstance(this,"addTransaction",{"sync":true},arguments)};SQLiteObject1.prototype.transaction=function(fn){return cordovaInstance(this,"transaction",{"successIndex":2,"errorIndex":1},arguments)};SQLiteObject1.prototype.readTransaction=function(fn){return cordovaInstance(this,"readTransaction",{},arguments)};SQLiteObject1.prototype.startNextTransaction=function(){return cordovaInstance(this,"startNextTransaction",{"sync":true},arguments)};SQLiteObject1.prototype.open=function(){return cordovaInstance(this,"open",{},arguments)};SQLiteObject1.prototype.close=function(){return cordovaInstance(this,"close",{},arguments)};SQLiteObject1.prototype.executeSql=function(statement,params){return cordovaInstance(this,"executeSql",{},arguments)};SQLiteObject1.prototype.sqlBatch=function(sqlStatements){return cordovaInstance(this,"sqlBatch",{},arguments)};SQLiteObject1.prototype.abortallPendingTransactions=function(){return cordovaInstance(this,"abortallPendingTransactions",{"sync":true},arguments)};Object.defineProperty(SQLiteObject1.prototype,"databaseFeatures",{get:function(){return instancePropertyGet(this,"databaseFeatures")},set:function(value){instancePropertySet(this,"databaseFeatures",value)},enumerable:false,configurable:true});Object.defineProperty(SQLiteObject1.prototype,"openDBs",{get:function(){return instancePropertyGet(this,"openDBs")},set:function(value){instancePropertySet(this,"openDBs",value)},enumerable:false,configurable:true});return SQLiteObject1}();var SQLiteOriginal=function(_super){sqlite_extends(SQLiteOriginal1,_super);function SQLiteOriginal1(){return _super!==null&&_super.apply(this,arguments)||this}SQLiteOriginal1.prototype.create=function(config){var _this=this;return function(){if(common_checkAvailability(_this)===true){return new Promise(function(resolve,reject){sqlitePlugin.openDatabase(config,function(db){return resolve(new SQLiteObject(db))},reject)})}}()};SQLiteOriginal1.prototype.echoTest=function(){return cordova(this,"echoTest",{},arguments)};SQLiteOriginal1.prototype.selfTest=function(){return cordova(this,"selfTest",{},arguments)};SQLiteOriginal1.prototype.deleteDatabase=function(config){return cordova(this,"deleteDatabase",{},arguments)};SQLiteOriginal1.pluginName="SQLite";SQLiteOriginal1.pluginRef="sqlitePlugin";SQLiteOriginal1.plugin="cordova-sqlite-storage";SQLiteOriginal1.repo="https://github.com/litehelpers/Cordova-sqlite-storage";SQLiteOriginal1.platforms=["Android","iOS","macOS","Windows"];return SQLiteOriginal1}(AwesomeCordovaNativePlugin);var SQLite=new SQLiteOriginal;var dist=__webpack_require__1(754);const Database_client_client=async(context,{dbname,models,force=false})=>{const isNative=dist.dV.getPlatform()!=="web";const _db=isNative?await SQLite.create({name:dbname,location:"default"}):{};if(isNative){_db.transaction(async tx=>{if(force)tx.executeSql("DROP TABLE IF EXISTS last_sync");await tx.executeSql("CREATE TABLE IF NOT EXISTS last_sync ( "+" id INTEGER PRIMARY KEY, "+"  action VARCHAR(45), "+"  sync_table VARCHAR(255), "+"  date DATETIME, "+"  date_last DATETIME, "+"  status VARCHAR(45) "+"); ",[])});const{worker}=context}context._models={};models.map(async model=>{const _m=new model;await _m.initDatabase({_db,force});context._models[_m.table]=_m});_db.isNative=isNative;context._db=_db;return context};const parsed={STRING:"VARCHAR(255)",BOOLEAN:"TINYINT(1)",INTEGER:"INTEGER",REAL:"REAL",DATE:"DATETIME"};const typeSql=column=>{return parsed[column]};var getRandomValues;var rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){getRandomValues=typeof crypto!=="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)|| typeof msCrypto!=="undefined"&& typeof msCrypto.getRandomValues==="function"&&msCrypto.getRandomValues.bind(msCrypto);if(!getRandomValues){throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}}return getRandomValues(rnds8)};;const regex=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function validate(uuid){return typeof uuid==="string"&&regex.test(uuid)}const esm_browser_validate=validate;var byteToHex=[];for(var i1=0;i1<256;++i1){byteToHex.push((i1+256).toString(16).substr(1))}function stringify(arr){var offset=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var uuid=(byteToHex[arr[offset+0]]+byteToHex[arr[offset+1]]+byteToHex[arr[offset+2]]+byteToHex[arr[offset+3]]+"-"+byteToHex[arr[offset+4]]+byteToHex[arr[offset+5]]+"-"+byteToHex[arr[offset+6]]+byteToHex[arr[offset+7]]+"-"+byteToHex[arr[offset+8]]+byteToHex[arr[offset+9]]+"-"+byteToHex[arr[offset+10]]+byteToHex[arr[offset+11]]+byteToHex[arr[offset+12]]+byteToHex[arr[offset+13]]+byteToHex[arr[offset+14]]+byteToHex[arr[offset+15]]).toLowerCase();if(!esm_browser_validate(uuid)){throw TypeError("Stringified UUID is invalid")}return uuid}const esm_browser_stringify=stringify;function v4(options,buf,offset){options=options||{};var rnds=options.random||(options.rng||rng)();rnds[6]=rnds[6]&15|64;rnds[8]=rnds[8]&63|128;if(buf){offset=offset||0;for(var i=0;i<16;++i){buf[offset+i]=rnds[i]}return buf}return esm_browser_stringify(rnds)}const esm_browser_v4=v4;const Network=(0,dist.fo)("Network",{web:()=>__webpack_require__1.e(875).then(__webpack_require__1.bind(__webpack_require__1,875)).then(m=>new m.NetworkWeb)});function Model_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}const SqlBricks=__webpack_require__1(945);const getDropTable=table=>{return`DROP TABLE IF EXISTS ${table}`};const getCreateTable=(table,schema)=>{const columns=schema.columns.map(coluna=>`${coluna.name} ${typeSql(coluna.type)}`).join(", ");return`CREATE TABLE IF NOT EXISTS ${table} `+" ( "+"  _id VARCHAR(36) PRIMARY KEY, "+"  ${columns} "+" ) "};class Model extends nullstack{static get _table(){const me=new this;return me._getTable()}_getTable(){return this.table}_getSchema(){if(!this.schema.columns.find(col=>col.name==="created_at"))this.schema.columns.push({name:"created_at",type:"DATE"});if(!this.schema.columns.find(col=>col.name==="updated_at"))this.schema.columns.push({name:"updated_at",type:"DATE"});return this.schema}async initDatabase({_db,force=false}){if(_db.isNative){_db.transaction(async tx=>{try{if(force)tx.executeSql(getDropTable(this._getTable()));tx.executeSql(getCreateTable(this._getTable(),this._getSchema()),[])}catch(error){console.log("ERROR: ",error)}})}}getLocalChanges(){}async sync({_db}){const{connected}=await Network.getStatus();if(!connected&&_db.isNative){const last_pull=await new Promise((resolve,reject)=>{_db.executeSql("select * from last_sync where table = ?1 and action = 'pull'",[this._getTable()],res=>resolve(res.rows.length===0?null:res.rows.item(0)),error=>reject(error))});const last_push=await new Promise((resolve,reject)=>{_db.executeSql("select * from last_sync where table = ?1 and action = 'push'",[this._getTable()],res=>resolve(res.rows.length===0?null:res.rows.item(0)),error=>reject(error))});await this.postPush({data:{}})}}async create({_db,data}){const formatedData={_id:esm_browser_v4(),...data,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(_db.isNative){await _db.transaction(async tx=>{try{const insertData=SqlBricks.insert(this.table,formatedData).toParams({placeholder:"?%d"});return await tx.executeSql(insertData.text,insertData.values)}catch(error){console.log("ERROR: ",error)}})}else{const ret=await this.postCreate({data:formatedData});console.log(ret)}}async getById({_db,id}){if(_db.isNative){const sql=SqlBricks.select().from(this.table).where({_id:id}).toParams({placeholder:"?%d"});return await new Promise((resolve,reject)=>{_db.executeSql(sql.text,sql.values,res=>resolve(res.rows.length===0?null:res.rows.item(0)),error=>reject(error))})}else{const resp=await this.postGetById({id});return resp.length>0?resp[0]:null}}async find({query}){}async upsert({_db,id,data}){if(id===null)return await this.create({data});if(_db.isNative){const sql=SqlBricks.update(this._getTable(),data).where({_id:id}).toParams({placeholder:"?%d"});return await _db.transaction(async tx=>{try{return await tx.executeSql(sql.text,sql.values)}catch(error){console.log("ERROR: ",error)}})}else{return await this.postUpdate({id,data})}}async delete({_db,id}){if(_db.isNative){const sql=SqlBricks.delete().from(this.table).where({_id:id}).toParams({placeholder:"?%d"});return await new Promise((resolve,reject)=>{_db.executeSql(sql.text,sql.values,res=>resolve(res.rows.length===0?null:res.rows.item(0)),error=>reject(error))})}else{const resp=await this.postDelete({id});return resp.length>0?resp[0]:null}}async list({_db}){if(_db.isNative){const sql=SqlBricks.select().from(this._getTable()).toParams({placeholder:"?"});return await new Promise((resolve,reject)=>{_db.executeSql(sql.text,sql.values,res=>{const itens=[];for(let i=0;i<res.rows.length;i++){itens.push(res.rows.item(i))}resolve(itens)},error=>reject(error))})}else{return await this.getList()}}render(){return false}constructor(ctx){super(ctx);this.table="";this.schema={columns:[]}}}Model_defineProperty(Model,"hash","447aed4e1b7b2eb4334086a986e08aa4");Model_defineProperty(Model,"postPull",nullstack.invoke("postPull","447aed4e1b7b2eb4334086a986e08aa4"));Model_defineProperty(Model,"postPush",nullstack.invoke("postPush","447aed4e1b7b2eb4334086a986e08aa4"));Model_defineProperty(Model,"postCreate",nullstack.invoke("postCreate","447aed4e1b7b2eb4334086a986e08aa4"));Model_defineProperty(Model,"postGetById",nullstack.invoke("postGetById","447aed4e1b7b2eb4334086a986e08aa4"));Model_defineProperty(Model,"postFind",nullstack.invoke("postFind","447aed4e1b7b2eb4334086a986e08aa4"));Model_defineProperty(Model,"postUpdate",nullstack.invoke("postUpdate","447aed4e1b7b2eb4334086a986e08aa4"));Model_defineProperty(Model,"postDelete",nullstack.invoke("postDelete","447aed4e1b7b2eb4334086a986e08aa4"));Model_defineProperty(Model,"getList",nullstack.invoke("getList","447aed4e1b7b2eb4334086a986e08aa4"));const Database_Model=Model;if(false){};function FazendaModel_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class FazendaModel extends Database_Model{constructor(...args){super(...args);this.table="fazenda";this.schema={columns:[{name:"nome",type:"STRING"},{name:"produtor",type:"STRING"},{name:"local",type:"STRING"},{name:"obs",type:"STRING"}]}}}FazendaModel_defineProperty(FazendaModel,"hash","c4d878ef21f636454877b965637bc9b2");const Models_FazendaModel=FazendaModel;if(false){};function IATFModel_defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true})}else{obj[key]=value}return obj}class IATFModel extends Database_Model{constructor(...args){super(...args);this.table="iatf";this.schema={columns:[{name:"data",type:"DATE"},{name:"id_fazenda",type:"STRING"},]}}}IATFModel_defineProperty(IATFModel,"hash","0751cfc97676397aadeab618c57750d8");const Models_IATFModel=IATFModel;if(false){};let client_context_0=nullstack.start(src_Application);client_context_0.start=async function start(){client_context_0=Database_client_client(client_context_0,{dbname:"dbCapacitor",models:[Models_FazendaModel,Models_IATFModel],force:true})};const client_0=null&&client_context_0;if(false){}})()})()